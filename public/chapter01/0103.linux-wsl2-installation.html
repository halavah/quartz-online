<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Claude Code Linux/WSL2 系统完整安装指南</title>
    <meta name="description" content="Claude Code在Linux和WSL2系统上的完整安装指南,包括多种Linux发行版和WSL2的详细安装步骤">
    <meta name="keywords" content="Claude Code,Linux安装,WSL2安装,Ubuntu,Debian,Fedora,Arch Linux,npm安装,API配置">

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-color: #0066ff;
            --secondary-color: #00d4ff;
            --accent-color: #ff6b00;
            --dark-bg: #0a0e27;
            --card-bg: #1a1f3a;
            --text-color: #e8eaed;
            --text-secondary: #9aa0a6;
            --border-color: #2a2f4a;
            --success-color: #00c853;
            --gradient-primary: linear-gradient(135deg, #0066ff 0%, #00d4ff 100%);
            --gradient-hero: linear-gradient(135deg, #0a0e27 0%, #1a1f3a 50%, #0a0e27 100%);
            --shadow-glow: 0 0 30px rgba(0, 102, 255, 0.3);
        }

        html {
            scroll-behavior: smooth;
            scroll-padding-top: 100px;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif;
            line-height: 1.6;
            color: var(--text-color);
            background: var(--dark-bg);
            overflow-x: hidden;
        }

        .hero-section {
            background: var(--gradient-hero);
            padding: 4rem 2rem 3rem;
            position: relative;
            overflow: hidden;
        }

        .hero-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background:
                radial-gradient(circle at 20% 50%, rgba(0, 102, 255, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 50%, rgba(0, 212, 255, 0.1) 0%, transparent 50%);
            pointer-events: none;
        }

        .hero-container {
            max-width: 1200px;
            margin: 0 auto;
            position: relative;
            z-index: 1;
        }

        .hero-title {
            font-size: 2.5rem;
            font-weight: 800;
            background: var(--gradient-primary);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 1rem;
            line-height: 1.2;
        }

        .hero-subtitle {
            font-size: 1.25rem;
            color: var(--text-secondary);
            margin-bottom: 1.5rem;
        }

        .main-content {
            max-width: 1400px;
            margin: 0 auto;
            padding: 3rem 2rem;
            display: flex;
            gap: 3rem;
            align-items: flex-start;
        }

        .content-wrapper {
            flex: 1;
            min-width: 0; /* Important for flex overflow handling */
        }

        @media (max-width: 1024px) {
            .main-content {
                flex-direction: column;
            }
        }

        .section {
            margin-bottom: 3rem;
        }

        .section-title {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 1.5rem;
            background: var(--gradient-primary);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .section-subtitle {
            font-size: 1.5rem;
            font-weight: 600;
            margin: 2rem 0 1rem;
            color: var(--text-color);
        }

        .section-description {
            color: var(--text-secondary);
            margin-bottom: 1.5rem;
            line-height: 1.8;
        }

        .card {
            background: var(--card-bg);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            transition: all 0.3s ease;
        }

        .card:hover {
            border-color: var(--primary-color);
            box-shadow: 0 5px 20px rgba(0, 102, 255, 0.2);
        }

        .code-block {
            background: #0d1117;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
            overflow-x: auto;
        }

        .code-block code {
            color: #58a6ff;
            font-family: 'Courier New', Courier, monospace;
            font-size: 0.9rem;
        }

        .list {
            margin: 1rem 0 1rem 1.5rem;
            color: var(--text-secondary);
        }

        .list li {
            margin-bottom: 0.5rem;
            line-height: 1.6;
        }

        .note {
            background: rgba(0, 102, 255, 0.1);
            border-left: 4px solid var(--primary-color);
            padding: 1rem;
            margin: 1.5rem 0;
            border-radius: 4px;
        }

        .note strong {
            color: var(--secondary-color);
        }

        .toc-sidebar {
            position: sticky;
            top: 6rem;
            width: 280px;
            flex-shrink: 0;
            max-height: calc(100vh - 4rem);
            overflow-y: auto;
            background: var(--card-bg);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 1.5rem;
        }

        .toc-sidebar h3 {
            color: var(--secondary-color);
            margin-bottom: 1rem;
            font-size: 1.1rem;
        }

        .toc-sidebar ul {
            list-style: none;
            padding: 0;
        }

        .toc-sidebar li {
            margin: 0.5rem 0;
        }

        .toc-sidebar a {
            color: var(--text-secondary);
            text-decoration: none;
            transition: all 0.3s ease;
            display: block;
            padding: 0.25rem 0;
            font-size: 0.95rem;
        }

        .toc-sidebar a:hover {
            color: var(--primary-color);
            padding-left: 0.5rem;
        }

        .toc-sidebar a.active {
            color: var(--primary-color);
            font-weight: 600;
            padding-left: 0.5rem;
            border-left: 2px solid var(--primary-color);
        }

        /* Scrollbar styling for TOC */
        .toc-sidebar::-webkit-scrollbar {
            width: 6px;
        }

        .toc-sidebar::-webkit-scrollbar-track {
            background: transparent;
        }

        .toc-sidebar::-webkit-scrollbar-thumb {
            background: var(--border-color);
            border-radius: 3px;
        }

        .toc-sidebar::-webkit-scrollbar-thumb:hover {
            background: var(--primary-color);
        }

        @media (max-width: 1024px) {
            .toc-sidebar {
                position: static;
                width: 100%;
                max-height: none;
                order: -1; /* Show TOC before content on mobile */
            }
        }

        /* Back to top button */
        .back-to-top {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background: var(--primary-color);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 30px;
            cursor: pointer;
            display: none;
            align-items: center;
            gap: 8px;
            z-index: 1000;
            transition: all 0.3s ease;
            font-size: 14px;
            font-weight: 500;
            box-shadow: 0 4px 12px rgba(0, 102, 255, 0.3);
        }

        .back-to-top:hover {
            background: var(--secondary-color);
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0, 212, 255, 0.4);
        }

        .back-to-top.show {
            display: flex;
        }

        .back-to-top svg {
            width: 16px;
            height: 16px;
        }

        @media (max-width: 768px) {
            .hero-title {
                font-size: 2rem;
            }

            .section-title {
                font-size: 1.5rem;
            }

            .main-content {
                padding: 2rem 1rem;
            }

            .back-to-top {
                bottom: 20px;
                right: 20px;
                padding: 10px 16px;
                font-size: 13px;
            }
        }

        /* 响应式设计 */
        @media (max-width: 1024px) {
            .main-content {
                padding: 2rem 1.5rem;
                gap: 2rem;
            }

            .hero-section {
                padding: 3rem 1.5rem 2rem;
            }

            .hero-title {
                font-size: 2.2rem;
            }

            .toc-sidebar {
                width: 280px;
            }

            .prerequisites-grid,
            .feature-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 768px) {
            .main-content {
                flex-direction: column;
                padding: 1.5rem;
            }

            .hero-section {
                padding: 2rem 1rem;
            }

            .hero-title {
                font-size: 1.8rem;
            }

            .hero-subtitle {
                font-size: 1.1rem;
            }

            .toc-sidebar {
                width: 100%;
                margin-bottom: 2rem;
                position: static;
                border-radius: 0.75rem;
            }

            .toc-sidebar ul {
                columns: 1;
            }

            .install-methods,
            .installation-cards,
            .prerequisites-grid,
            .feature-grid {
                grid-template-columns: 1fr;
            }

            .code-block {
                padding: 1rem;
                font-size: 0.9rem;
            }

            .code-block code {
                white-space: pre-wrap;
                word-break: break-all;
            }

            .config-form {
                padding: 1.5rem;
            }
        }

        @media (max-width: 480px) {
            .hero-title {
                font-size: 1.6rem;
            }

            .hero-subtitle {
                font-size: 1rem;
            }

            h2 {
                font-size: 1.5rem;
            }

            h3 {
                font-size: 1.3rem;
            }

            .install-card,
            .feature-card {
                padding: 1.5rem;
            }

            .config-form {
                padding: 1rem;
            }

            .feature-list li {
                padding: 0.75rem;
            }

            .code-block {
                padding: 0.75rem;
            }
        }
    </style>
</head>
<body>
    <!-- Back to top button -->
    <button class="back-to-top" id="backToTop">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M18 15l-6-6-6 6"/>
        </svg>
        <span>返回顶部</span>
    </button>

    <div class="hero-section">
        <div class="hero-container">
            <h1 class="hero-title">Claude Code Linux/WSL2 系统完整安装指南</h1>
            <p class="hero-subtitle">在 Linux 和 WSL2 系统上安装 Claude Code 的完整指南，支持 Ubuntu、Debian、Fedora、Arch Linux 等主流发行版</p>
        </div>
    </div>

    <div class="main-content">
        <div class="content-wrapper">
        <section id="system-requirements" class="section">
            <h2 class="section-title">系统要求</h2>

            <h3 class="section-subtitle">最低配置</h3>
            <ul class="list">
                <li><strong>操作系统</strong>:
                    <ul class="list">
                        <li>Ubuntu 20.04+ / Debian 10+</li>
                        <li>Fedora 33+ / CentOS 8+</li>
                        <li>Arch Linux / Manjaro</li>
                        <li>Alpine Linux 3.14+</li>
                        <li>WSL 1 或 WSL 2</li>
                    </ul>
                </li>
                <li><strong>内存</strong>: 至少 4GB RAM（推荐 8GB+）</li>
                <li><strong>存储空间</strong>: 至少 500MB 可用空间</li>
                <li><strong>网络</strong>: 需要互联网连接（用于 API 调用和更新）</li>
            </ul>

            <h3 class="section-subtitle">推荐配置</h3>
            <ul class="list">
                <li><strong>操作系统</strong>: Ubuntu 22.04 LTS 或更新版本</li>
                <li><strong>内存</strong>: 8GB+ RAM</li>
                <li><strong>WSL</strong>: 推荐使用 WSL 2（性能更好）</li>
            </ul>

            <h3 class="section-subtitle">必需软件</h3>
            <ul class="list">
                <li><strong>Shell</strong>: Bash、Zsh 或 Fish</li>
                <li><strong>curl</strong>: 用于下载安装脚本</li>
                <li><strong>基础工具</strong>: glibc、libstdc++</li>
            </ul>
        </section>

        <section id="distro-support" class="section">
            <h2 class="section-title">Linux 发行版支持</h2>
            <p class="section-description">Claude Code 支持所有主流 Linux 发行版，但不同发行版可能有特殊要求。</p>

            <div class="card">
                <h4>Ubuntu / Debian 系列</h4>
                <p><strong>完全支持的版本</strong>:</p>
                <ul class="list">
                    <li>Ubuntu 20.04 LTS, 22.04 LTS, 23.04+</li>
                    <li>Debian 10 (Buster), 11 (Bullseye), 12 (Bookworm)</li>
                    <li>Linux Mint 20+</li>
                    <li>Pop!_OS 20.04+</li>
                </ul>
                <p><strong>特点</strong>:</p>
                <ul class="list">
                    <li>无需额外依赖</li>
                    <li>apt 包管理器</li>
                    <li>安装最简单</li>
                </ul>
            </div>

            <div class="card">
                <h4>Fedora / RHEL / CentOS 系列</h4>
                <p><strong>完全支持的版本</strong>:</p>
                <ul class="list">
                    <li>Fedora 33+</li>
                    <li>RHEL 8+</li>
                    <li>CentOS Stream 8+</li>
                    <li>Rocky Linux 8+</li>
                    <li>AlmaLinux 8+</li>
                </ul>
                <p><strong>特点</strong>:</p>
                <ul class="list">
                    <li>dnf/yum 包管理器</li>
                    <li>可能需要启用 EPEL 仓库</li>
                </ul>
            </div>

            <div class="card">
                <h4>Arch Linux 系列</h4>
                <p><strong>完全支持的版本</strong>:</p>
                <ul class="list">
                    <li>Arch Linux</li>
                    <li>Manjaro</li>
                    <li>EndeavourOS</li>
                </ul>
                <p><strong>特点</strong>:</p>
                <ul class="list">
                    <li>滚动更新</li>
                    <li>pacman 包管理器</li>
                    <li>通常已包含所需依赖</li>
                </ul>
            </div>

            <div class="card">
                <h4>Alpine Linux</h4>
                <p><strong>支持版本</strong>: Alpine Linux 3.14+</p>
                <div class="note">
                    <strong>特别注意</strong>:
                    <ul class="list">
                        <li>使用 musl libc 而非 glibc</li>
                        <li>需要额外安装依赖包</li>
                        <li>需要禁用内置 ripgrep</li>
                    </ul>
                </div>
            </div>

            <div class="card">
                <h4>其他发行版</h4>
                <ul class="list">
                    <li><strong>openSUSE</strong>: Leap 15.3+, Tumbleweed</li>
                    <li><strong>Gentoo</strong>: 完全支持</li>
                    <li><strong>NixOS</strong>: 需要特殊配置</li>
                    <li><strong>Void Linux</strong>: 完全支持</li>
                </ul>
            </div>
        </section>

        <section id="wsl2-guide" class="section">
            <h2 class="section-title">WSL2 安装指南</h2>
            <p class="section-description">Windows Subsystem for Linux (WSL) 允许在 Windows 上运行 Linux 环境。推荐使用 WSL 2，性能更好。</p>

            <h3 class="section-subtitle">安装前准备</h3>

            <div class="card">
                <h4>系统要求与基础配置</h4>
                <ol class="list">
                    <li><strong>操作系统</strong>: Windows 11 或 Windows 10 21H2 以上版本</li>
                    <li><strong>系统版本</strong>: 专业版/工作站版/企业版（家庭版不支持 Hyper-V，但可以使用 WSL2）</li>
                    <li><strong>硬件要求</strong>: CPU 需支持虚拟化技术并在 BIOS 中已启用</li>
                </ol>
            </div>

            <div class="card">
                <h4>判断电脑是否开启虚拟化</h4>
                <ol class="list">
                    <li>按 <code>Ctrl + Shift + Esc</code> 打开任务管理器</li>
                    <li>切换到"性能" → "CPU"</li>
                    <li>在右下角可以看到"虚拟化：已启用/已禁用"</li>
                </ol>
            </div>

            <div class="card">
                <h4>开启虚拟化功能（关键步骤！）</h4>
                <p>如果虚拟化显示为"已禁用"，需要在 BIOS 中启用：</p>
                <ol class="list">
                    <li>重启电脑，开机时按 <code>F2</code> 或 <code>Del</code> 键进入 BIOS/UEFI 设置
                        <ul class="list">
                            <li>不同品牌电脑按键可能不同：Dell: F2, HP: F10/Esc, Lenovo: F1/F2, ASUS: F2/Del</li>
                        </ul>
                    </li>
                    <li>找到 <code>Intel (VMX) Virtualization Technology</code> 或 <code>AMD-V</code> 选项（通常在 "Advanced" → "CPU Configuration" 菜单中）</li>
                    <li>设置为 <code>Enabled</code>（启用）</li>
                    <li>保存设置并退出重启（通常按 F10 保存）</li>
                </ol>
            </div>

            <div class="card">
                <h4>启用 Windows 功能</h4>
                <p><strong>方法一: 通过图形界面（推荐新手）</strong></p>
                <ol class="list">
                    <li>按 <code>Win + R</code>，输入 <code>optionalfeatures</code> 并回车</li>
                    <li>或打开"控制面板" → "程序与功能" → "启用或关闭 Windows 功能"</li>
                    <li>勾选以下两项：
                        <ul class="list">
                            <li>☑ <strong>虚拟机平台</strong> (Virtual Machine Platform)</li>
                            <li>☑ <strong>适用于 Linux 的 Windows 子系统</strong> (Windows Subsystem for Linux)</li>
                        </ul>
                    </li>
                    <li>点击"确定"并重启电脑</li>
                </ol>

                <p><strong>方法二: 通过 PowerShell（推荐高级用户）</strong></p>
                <p>以管理员身份打开 PowerShell，运行：</p>
                <div class="code-block">
                    <code># 启用 WSL 功能<br>dism.exe /online /enable-feature /featurename:Microsoft-Windows-Subsystem-Linux /all /norestart<br><br># 启用虚拟机平台<br>dism.exe /online /enable-feature /featurename:VirtualMachinePlatform /all /norestart<br><br># 重启电脑<br>Restart-Computer</code>
                </div>
            </div>

            <h3 class="section-subtitle">步骤 1: 在 Windows 上安装 WSL 2</h3>

            <div class="card">
                <h4>检查 WSL 版本</h4>
                <p>打开 PowerShell 或命令提示符，运行：</p>
                <div class="code-block">
                    <code>wsl --version</code>
                </div>
                <p>如果显示版本信息，说明已安装 WSL 2。</p>
            </div>

            <div class="card">
                <h4>全新安装 WSL 2 (Windows 10 2004+ 或 Windows 11)</h4>
                <p>以管理员身份打开 PowerShell，运行：</p>
                <div class="code-block">
                    <code># 一键安装 WSL 2 和 Ubuntu<br>wsl --install</code>
                </div>
                <p>这会自动：</p>
                <ul class="list">
                    <li>启用 WSL 功能</li>
                    <li>安装 WSL 2 Linux 内核</li>
                    <li>设置 WSL 2 为默认版本</li>
                    <li>安装 Ubuntu 发行版</li>
                </ul>
            </div>

            <div class="card">
                <h4>从 WSL 1 升级到 WSL 2</h4>
                <div class="code-block">
                    <code># 设置 WSL 2 为默认版本<br>wsl --set-default-version 2<br><br># 将已安装的发行版转换为 WSL 2<br>wsl --set-version Ubuntu 2<br><br># 验证版本<br>wsl -l -v</code>
                </div>
                <p><strong>预期输出</strong>:</p>
                <div class="code-block">
                    <code>  NAME      STATE           VERSION<br>* Ubuntu    Running         2</code>
                </div>
            </div>

            <h3 class="section-subtitle">步骤 2: 选择并安装 Linux 发行版</h3>

            <div class="card">
                <h4>查看可用发行版</h4>
                <div class="code-block">
                    <code>wsl --list --online</code>
                </div>
            </div>

            <div class="card">
                <h4>安装特定发行版</h4>
                <div class="code-block">
                    <code># 安装 Ubuntu 22.04<br>wsl --install -d Ubuntu-22.04<br><br># 安装 Debian<br>wsl --install -d Debian<br><br># 安装 Arch Linux<br>wsl --install -d Arch</code>
                </div>
            </div>

            <h3 class="section-subtitle">步骤 3: 首次设置 Ubuntu</h3>

            <div class="card">
                <h4>启动 Ubuntu</h4>
                <ol class="list">
                    <li>在开始菜单中搜索 "Ubuntu 20.04 LTS" 或 "Ubuntu 22.04 LTS"</li>
                    <li>首次运行会自动初始化，需要等待 1-2 分钟</li>
                </ol>
            </div>

            <div class="card">
                <h4>创建用户名和密码</h4>
                <p>首次运行会提示创建 Linux 用户：</p>
                <div class="code-block">
                    <code>Installing, this may take a few minutes...<br>Please create a default UNIX user account. The username does not need to match your Windows username.<br>For more information visit: https://aka.ms/wslusers<br>Enter new UNIX username:</code>
                </div>
                <div class="note">
                    <strong>重要提示</strong>:
                    <ul class="list">
                        <li><strong>用户名</strong>: 建议使用英文小写，不要使用中文或特殊字符</li>
                        <li><strong>密码</strong>: 输入时不会显示任何字符（包括 *），这是正常的安全机制</li>
                        <li><strong>记住密码</strong>: 这个密码在使用 <code>sudo</code> 时会用到，务必记住</li>
                    </ul>
                </div>
            </div>

            <div class="card">
                <h4>更新系统软件包</h4>
                <p>首次设置完成后，建议立即更新系统：</p>
                <div class="code-block">
                    <code># 更新软件包列表<br>sudo apt update<br><br># 升级已安装的软件包<br>sudo apt upgrade -y</code>
                </div>
            </div>

            <h3 class="section-subtitle">步骤 4: 在 WSL 中安装 Claude Code</h3>

            <div class="card">
                <h4>方法一: 使用一键安装脚本（推荐）</h4>
                <div class="code-block">
                    <code>curl -fsSL https://claude.ai/install.sh | bash</code>
                </div>
            </div>

            <div class="card">
                <h4>方法二: 使用 npm 安装</h4>
                <p><strong>1. 安装 Node.js 环境</strong></p>
                <div class="code-block">
                    <code># 添加 NodeSource 仓库（Node.js 22.x LTS）<br>curl -fsSL https://deb.nodesource.com/setup_22.x | sudo -E bash -<br><br># 安装 Node.js<br>sudo apt-get install -y nodejs<br><br># 验证安装（应显示 v22.x 和 10.x）<br>node --version<br>npm --version</code>
                </div>

                <p><strong>2. 安装 Claude Code</strong></p>
                <div class="code-block">
                    <code>sudo npm install -g @anthropic-ai/claude-code</code>
                </div>

                <p><strong>3. 验证安装</strong></p>
                <div class="code-block">
                    <code>claude --version</code>
                </div>
            </div>

            <h3 class="section-subtitle">步骤 5: WSL 特别配置</h3>

            <div class="card">
                <h4>配置 WSL 2 内存限制</h4>
                <p>创建或编辑 <code>C:\Users\你的用户名\.wslconfig</code>：</p>
                <div class="code-block">
                    <code>[wsl2]<br>memory=4GB<br>processors=2<br>swap=2GB</code>
                </div>
                <p>保存后重启 WSL：</p>
                <div class="code-block">
                    <code>wsl --shutdown<br>wsl</code>
                </div>
            </div>

            <div class="card">
                <h4>WSL 与 Windows 文件系统互操作</h4>
                <p>WSL 可以访问 Windows 文件系统：</p>
                <div class="code-block">
                    <code># Windows C 盘映射到 /mnt/c<br>cd /mnt/c/Users/你的用户名/Documents<br><br># 在 Windows 项目中使用 Claude Code<br>cd /mnt/c/Projects/my-app<br>claude</code>
                </div>
                <p>从 Windows 访问 WSL 文件系统：</p>
                <ul class="list">
                    <li>在文件资源管理器地址栏输入: <code>\\wsl$\Ubuntu\home\你的用户名</code></li>
                </ul>
            </div>
        </section>

        <section id="linux-native" class="section">
            <h2 class="section-title">Linux 原生安装</h2>

            <h3 class="section-subtitle">方式一: 一键安装脚本（推荐）</h3>
            <p class="section-description">这是最简单的安装方式，适合所有主流发行版。</p>

            <div class="card">
                <h4>步骤 1: 确保已安装 curl</h4>
                <p><strong>Ubuntu/Debian</strong>:</p>
                <div class="code-block">
                    <code>sudo apt update<br>sudo apt install curl -y</code>
                </div>

                <p><strong>Fedora/RHEL/CentOS</strong>:</p>
                <div class="code-block">
                    <code>sudo dnf install curl -y</code>
                </div>

                <p><strong>Arch Linux</strong>:</p>
                <div class="code-block">
                    <code>sudo pacman -S curl</code>
                </div>

                <p><strong>Alpine Linux</strong>:</p>
                <div class="code-block">
                    <code>sudo apk add curl</code>
                </div>
            </div>

            <div class="card">
                <h4>步骤 2: 执行安装脚本</h4>
                <p><strong>安装最新稳定版本</strong>:</p>
                <div class="code-block">
                    <code>curl -fsSL https://claude.ai/install.sh | bash</code>
                </div>

                <p><strong>安装指定版本</strong>:</p>
                <div class="code-block">
                    <code>curl -fsSL https://claude.ai/install.sh | bash -s 1.0.58</code>
                </div>

                <p><strong>安装最新开发版</strong>:</p>
                <div class="code-block">
                    <code>curl -fsSL https://claude.ai/install.sh | bash -s latest</code>
                </div>
            </div>

            <h3 class="section-subtitle">方式二: Alpine Linux 专用安装</h3>
            <p class="section-description">Alpine Linux 使用 musl libc，需要额外配置。</p>

            <div class="card">
                <h4>步骤 1: 安装必需依赖</h4>
                <div class="code-block">
                    <code># 安装基础依赖<br>sudo apk add libgcc libstdc++<br><br># 安装 ripgrep（代替内置版本）<br>sudo apk add ripgrep</code>
                </div>
            </div>

            <div class="card">
                <h4>步骤 2: 设置环境变量</h4>
                <div class="code-block">
                    <code># 禁用内置 ripgrep<br>export USE_BUILTIN_RIPGREP=0<br><br># 永久设置<br>echo 'export USE_BUILTIN_RIPGREP=0' >> ~/.profile</code>
                </div>
            </div>

            <div class="card">
                <h4>步骤 3: 运行安装脚本</h4>
                <div class="code-block">
                    <code>curl -fsSL https://claude.ai/install.sh | bash</code>
                </div>
            </div>

            <h3 class="section-subtitle">方式三: 手动下载安装</h3>

            <div class="card">
                <h4>步骤 1: 下载二进制文件</h4>
                <p>使用 wget 下载对应架构的文件：</p>
                <div class="code-block">
                    <code># 下载 x64 版本<br>wget https://github.com/anthropics/claude-code/releases/latest/download/claude-linux-x64<br><br># 下载 ARM64 版本<br>wget https://github.com/anthropics/claude-code/releases/latest/download/claude-linux-arm64</code>
                </div>
            </div>

            <div class="card">
                <h4>步骤 2: 安装到本地目录</h4>
                <div class="code-block">
                    <code># 创建安装目录<br>mkdir -p ~/.local/bin<br><br># 移动文件并重命名<br>mv claude-linux-x64 ~/.local/bin/claude<br><br># 添加执行权限<br>chmod +x ~/.local/bin/claude</code>
                </div>
            </div>

            <h3 class="section-subtitle">方式四: 使用 Node.js/npm 安装</h3>

            <div class="card">
                <h4>步骤 1: 安装 Node.js 环境</h4>
                <p><strong>Ubuntu/Debian 系统</strong></p>
                <div class="code-block">
                    <code># 添加 NodeSource 仓库（Node.js LTS）<br>curl -fsSL https://deb.nodesource.com/setup_lts.x | sudo -E bash -<br><br># 安装 Node.js<br>sudo apt-get install -y nodejs</code>
                </div>

                <p><strong>Fedora/RHEL/CentOS 系统</strong></p>
                <div class="code-block">
                    <code>sudo dnf install nodejs npm -y</code>
                </div>

                <p><strong>Arch Linux 系统</strong></p>
                <div class="code-block">
                    <code>sudo pacman -S nodejs npm</code>
                </div>

                <p><strong>验证安装</strong></p>
                <div class="code-block">
                    <code>node --version<br>npm --version</code>
                </div>
            </div>

            <div class="card">
                <h4>步骤 2: 安装 Claude Code</h4>
                <div class="code-block">
                    <code>npm install -g @anthropic-ai/claude-code<br><br># 如果遇到权限问题<br>sudo npm install -g @anthropic-ai/claude-code</code>
                </div>
            </div>

            <div class="card">
                <h4>步骤 3: 验证安装</h4>
                <div class="code-block">
                    <code>claude --version</code>
                </div>
            </div>
        </section>

        <section id="environment" class="section">
            <h2 class="section-title">环境配置</h2>
            <p class="section-description">安装完成后，需要配置 PATH 环境变量。</p>

            <h3 class="section-subtitle">配置 PATH 环境变量</h3>

            <div class="card">
                <h4>自动配置（推荐）</h4>
                <p>大多数情况下，安装脚本已自动配置。验证一下：</p>
                <div class="code-block">
                    <code>echo $PATH | grep ".local/bin"</code>
                </div>
                <p>如果有输出，说明已配置成功。</p>
            </div>

            <div class="card">
                <h4>手动配置 - Bash 用户</h4>
                <p>编辑 <code>~/.bashrc</code>：</p>
                <div class="code-block">
                    <code>nano ~/.bashrc</code>
                </div>
                <p>在文件末尾添加：</p>
                <div class="code-block">
                    <code># 添加 Claude Code 到 PATH<br>export PATH="$HOME/.local/bin:$PATH"</code>
                </div>
                <p>保存并使配置生效：</p>
                <div class="code-block">
                    <code>source ~/.bashrc</code>
                </div>
            </div>

            <div class="card">
                <h4>手动配置 - Zsh 用户</h4>
                <p>编辑 <code>~/.zshrc</code>：</p>
                <div class="code-block">
                    <code>nano ~/.zshrc</code>
                </div>
                <p>添加相同的配置：</p>
                <div class="code-block">
                    <code># 添加 Claude Code 到 PATH<br>export PATH="$HOME/.local/bin:$PATH"</code>
                </div>
                <p>保存并生效：</p>
                <div class="code-block">
                    <code>source ~/.zshrc</code>
                </div>
            </div>

            <div class="card">
                <h4>手动配置 - Fish 用户</h4>
                <p>编辑 <code>~/.config/fish/config.fish</code>：</p>
                <div class="code-block">
                    <code>nano ~/.config/fish/config.fish</code>
                </div>
                <p>添加：</p>
                <div class="code-block">
                    <code># 添加 Claude Code 到 PATH<br>set -gx PATH $HOME/.local/bin $PATH</code>
                </div>
                <p>保存并生效：</p>
                <div class="code-block">
                    <code>source ~/.config/fish/config.fish</code>
                </div>
            </div>

            <div class="card">
                <h4>系统级配置（所有用户）</h4>
                <p>如果希望所有用户都能使用 Claude Code：</p>
                <div class="code-block">
                    <code># 需要 sudo 权限<br>sudo cp ~/.local/bin/claude /usr/local/bin/<br>sudo chmod +x /usr/local/bin/claude</code>
                </div>
            </div>
        </section>

        <section id="api-config" class="section">
            <h2 class="section-title">API 配置</h2>
            <p class="section-description">Claude Code 需要 Anthropic API Key 才能正常工作。</p>

            <h3 class="section-subtitle">获取 API Key</h3>

            <div class="card">
                <h4>官方 API</h4>
                <ol class="list">
                    <li>访问 <code>https://console.anthropic.com/</code></li>
                    <li>登录或注册账号</li>
                    <li>进入 "API Keys" 页面</li>
                    <li>点击 "Create Key" 创建新的 API 密钥</li>
                    <li>复制生成的密钥（格式: <code>sk-ant-api03-...</code>）</li>
                </ol>
            </div>

            <div class="card">
                <h4>中转 API（国内推荐）</h4>
                <p>如果你在中国大陆，可以使用中转服务：</p>
                <ul class="list">
                    <li>访问中转服务商网站（如 https://api.nekoapi.com/）</li>
                    <li>注册账号并充值</li>
                    <li>获取中转 API Key 和 Base URL</li>
                </ul>
            </div>

            <h3 class="section-subtitle">配置方式</h3>

            <div class="card">
                <h4>Bash 用户配置</h4>
                <p>编辑 <code>~/.bashrc</code>：</p>
                <div class="code-block">
                    <code>nano ~/.bashrc</code>
                </div>
                <p>在文件末尾添加：</p>
                <div class="code-block">
                    <code># Claude Code API 配置<br>export ANTHROPIC_API_KEY="sk-ant-api03-你的密钥"<br><br># 如果使用中转服务<br>export ANTHROPIC_BASE_URL="https://api.claudecode.net.cn/api/claudecode"<br><br># Auth Token（与 API Key 相同）<br>export ANTHROPIC_AUTH_TOKEN="sk-ant-api03-你的密钥"</code>
                </div>
                <p>保存并生效：</p>
                <div class="code-block">
                    <code>source ~/.bashrc</code>
                </div>
            </div>

            <div class="card">
                <h4>Zsh 用户配置</h4>
                <p>编辑 <code>~/.zshrc</code>：</p>
                <div class="code-block">
                    <code>nano ~/.zshrc</code>
                </div>
                <p>添加相同的环境变量，保存后运行：</p>
                <div class="code-block">
                    <code>source ~/.zshrc</code>
                </div>
            </div>

            <div class="card">
                <h4>Fish 用户配置</h4>
                <p>编辑 <code>~/.config/fish/config.fish</code>：</p>
                <div class="code-block">
                    <code>nano ~/.config/fish/config.fish</code>
                </div>
                <p>添加：</p>
                <div class="code-block">
                    <code># Claude Code API 配置<br>set -gx ANTHROPIC_API_KEY "sk-ant-api03-你的密钥"<br>set -gx ANTHROPIC_BASE_URL "https://api.claudecode.net.cn/api/claudecode"<br>set -gx ANTHROPIC_AUTH_TOKEN "sk-ant-api03-你的密钥"</code>
                </div>
                <p>保存并生效：</p>
                <div class="code-block">
                    <code>source ~/.config/fish/config.fish</code>
                </div>
            </div>

            <div class="card">
                <h4>验证配置</h4>
                <div class="code-block">
                    <code>echo $ANTHROPIC_API_KEY<br>echo $ANTHROPIC_BASE_URL<br>echo $ANTHROPIC_AUTH_TOKEN</code>
                </div>
                <p>应该显示你配置的值。</p>
            </div>

            <div class="card">
                <h4>配置说明</h4>
                <ul class="list">
                    <li><strong>ANTHROPIC_BASE_URL</strong>: API 服务器地址
                        <ul class="list">
                            <li>官方: <code>https://api.anthropic.com</code> 或不设置</li>
                            <li>中转: 使用中转商提供的 URL</li>
                        </ul>
                    </li>
                    <li><strong>ANTHROPIC_API_KEY</strong>: 你的 API 密钥（格式通常为 <code>sk-ant-api03-</code> 开头）</li>
                    <li><strong>ANTHROPIC_AUTH_TOKEN</strong>: 认证令牌（通常与 API KEY 相同）</li>
                </ul>
            </div>
        </section>

        <section id="verification" class="section">
            <h2 class="section-title">验证安装</h2>
            <p class="section-description">配置完成后，验证 Claude Code 是否正常工作。</p>

            <div class="card">
                <h4>步骤 1: 打开新的终端</h4>
                <p><strong>重要</strong>：必须打开新的终端窗口或重新加载配置，让环境变量生效。</p>
                <div class="code-block">
                    <code># Bash<br>source ~/.bashrc<br><br># Zsh<br>source ~/.zshrc<br><br># Fish<br>source ~/.config/fish/config.fish</code>
                </div>
            </div>

            <div class="card">
                <h4>步骤 2: 检查版本</h4>
                <div class="code-block">
                    <code>claude --version</code>
                </div>
                <p><strong>预期输出</strong>:</p>
                <div class="code-block">
                    <code>Claude Code v1.0.58</code>
                </div>
            </div>

            <div class="card">
                <h4>步骤 3: 检查安装位置</h4>
                <div class="code-block">
                    <code>which claude</code>
                </div>
                <p><strong>预期输出</strong>:</p>
                <div class="code-block">
                    <code>/home/username/.local/bin/claude</code>
                </div>
            </div>

            <div class="card">
                <h4>步骤 4: 系统诊断</h4>
                <div class="code-block">
                    <code>claude doctor</code>
                </div>
                <p>此命令会检查：</p>
                <ul class="list">
                    <li>Claude Code 版本</li>
                    <li>安装类型（原生 vs npm）</li>
                    <li>API 配置状态</li>
                    <li>网络连接</li>
                    <li>Shell 环境</li>
                    <li>系统依赖</li>
                </ul>
            </div>

            <div class="card">
                <h4>步骤 5: 测试运行</h4>
                <div class="code-block">
                    <code>claude "你好，Claude！"</code>
                </div>
                <p>如果一切正常，Claude 会回复你的问候，说明安装和配置都成功了。</p>
            </div>
        </section>

        <section id="troubleshooting" class="section">
            <h2 class="section-title">常见问题</h2>

            <div class="card">
                <h4>Q1: 提示 "command not found: claude"</h4>
                <p><strong>原因</strong>: PATH 环境变量未正确配置。</p>
                <p><strong>解决方法</strong>:</p>
                <ol class="list">
                    <li>检查 PATH: <code>echo $PATH | grep ".local/bin"</code></li>
                    <li>如果没有输出，重新配置 PATH</li>
                    <li>确保重新加载配置: <code>source ~/.bashrc</code></li>
                    <li>验证安装位置: <code>ls -la ~/.local/bin/claude</code></li>
                    <li>确保有执行权限: <code>chmod +x ~/.local/bin/claude</code></li>
                </ol>
            </div>

            <div class="card">
                <h4>Q2: WSL 中找不到 claude 命令</h4>
                <p><strong>原因</strong>: WSL 环境变量未正确加载。</p>
                <p><strong>解决方法</strong>:</p>
                <ol class="list">
                    <li>确保在 WSL 终端而非 Windows 终端: <code>uname -a</code>（应显示 Linux 内核信息）</li>
                    <li>重新加载配置: <code>source ~/.bashrc</code></li>
                    <li>检查文件是否存在: <code>ls -la ~/.local/bin/claude</code></li>
                    <li>如果不存在，重新安装: <code>curl -fsSL https://claude.ai/install.sh | bash</code></li>
                </ol>
            </div>

            <div class="card">
                <h4>Q3: Alpine Linux 安装失败</h4>
                <p><strong>症状</strong>: 提示缺少共享库或 ripgrep 错误。</p>
                <p><strong>解决方法</strong>:</p>
                <ol class="list">
                    <li>安装所需依赖: <code>sudo apk add libgcc libstdc++ ripgrep</code></li>
                    <li>设置环境变量: <code>export USE_BUILTIN_RIPGREP=0</code></li>
                    <li>永久设置: <code>echo 'export USE_BUILTIN_RIPGREP=0' >> ~/.profile</code></li>
                    <li>重新安装 Claude Code</li>
                </ol>
            </div>

            <div class="card">
                <h4>Q4: 权限被拒绝错误</h4>
                <p><strong>症状</strong>: 安装或运行时提示 "Permission denied"。</p>
                <p><strong>解决方法</strong>:</p>
                <ol class="list">
                    <li>确保目录权限正确: <code>mkdir -p ~/.local/bin && chmod 755 ~/.local/bin</code></li>
                    <li>确保文件有执行权限: <code>chmod +x ~/.local/bin/claude</code></li>
                    <li>检查目录所有权: <code>ls -la ~/.local/bin</code></li>
                </ol>
            </div>

            <div class="card">
                <h4>Q5: WSL 性能问题</h4>
                <p><strong>症状</strong>: Claude Code 运行缓慢。</p>
                <p><strong>解决方法</strong>:</p>
                <ol class="list">
                    <li>确保使用 WSL 2: <code>wsl -l -v</code>（VERSION 应该是 2）</li>
                    <li>优化 WSL 2 内存配置（编辑 <code>C:\Users\你的用户名\.wslconfig</code>）</li>
                    <li>重启 WSL: <code>wsl --shutdown</code></li>
                    <li>在 Linux 原生文件系统中工作（不要在 <code>/mnt/c</code> 下工作）</li>
                </ol>
            </div>

            <div class="card">
                <h4>Q6: ARM64 架构问题</h4>
                <p><strong>症状</strong>: 在树莓派或 ARM 服务器上安装失败。</p>
                <p><strong>解决方法</strong>:</p>
                <ol class="list">
                    <li>确认架构: <code>uname -m</code>（应显示 aarch64 或 arm64）</li>
                    <li>手动下载 ARM64 版本</li>
                    <li>验证安装: <code>file ~/.local/bin/claude</code></li>
                </ol>
            </div>
        </section>

        <section id="advanced" class="section">
            <h2 class="section-title">进阶配置</h2>

            <div class="card">
                <h4>Shell 别名和函数</h4>
                <p>编辑 <code>~/.bashrc</code> 或 <code>~/.zshrc</code>：</p>
                <div class="code-block">
                    <code># Claude Code 别名<br>alias cc='claude'<br>alias ccd='claude doctor'<br>alias ccu='claude update'<br><br># 快速提问函数<br>ask() {<br>  claude "$@"<br>}<br><br># 在特定目录运行 Claude Code<br>claude-project() {<br>  cd ~/Projects/$1 && claude<br>}</code>
                </div>
            </div>

            <div class="card">
                <h4>自动补全</h4>
                <p><strong>Bash 自动补全</strong>:</p>
                <div class="code-block">
                    <code># 生成补全脚本<br>claude --bash-completion > ~/.claude-completion.bash<br><br># 加载补全<br>echo 'source ~/.claude-completion.bash' >> ~/.bashrc<br>source ~/.bashrc</code>
                </div>

                <p><strong>Zsh 自动补全</strong>:</p>
                <div class="code-block">
                    <code># 生成补全脚本<br>claude --zsh-completion > ~/.claude-completion.zsh<br><br># 加载补全<br>echo 'source ~/.claude-completion.zsh' >> ~/.zshrc<br>source ~/.zshrc</code>
                </div>
            </div>

            <div class="card">
                <h4>Docker 容器中使用</h4>
                <p><strong>Dockerfile 示例</strong>:</p>
                <div class="code-block">
                    <code>FROM ubuntu:22.04<br><br># 安装基础工具<br>RUN apt-get update && apt-get install -y \<br>    curl \<br>    ca-certificates \<br>    && rm -rf /var/lib/apt/lists/*<br><br># 安装 Claude Code<br>RUN curl -fsSL https://claude.ai/install.sh | bash<br><br># 配置环境变量<br>ENV PATH="/root/.local/bin:${PATH}"<br>ENV ANTHROPIC_API_KEY="your-api-key"<br><br>WORKDIR /workspace<br>CMD ["bash"]</code>
                </div>
            </div>

            <div class="card">
                <h4>更新 Claude Code</h4>
                <p><strong>原生安装更新</strong>:</p>
                <div class="code-block">
                    <code>claude update</code>
                </div>
                <p><strong>npm 更新</strong>:</p>
                <div class="code-block">
                    <code>npm update -g @anthropic-ai/claude-code</code>
                </div>
            </div>

            <div class="card">
                <h4>卸载 Claude Code</h4>
                <p><strong>完全卸载</strong>:</p>
                <div class="code-block">
                    <code># 删除二进制文件<br>rm ~/.local/bin/claude<br><br># 删除配置文件<br>rm -rf ~/.claude<br><br># 清理缓存<br>rm -rf ~/.cache/claude</code>
                </div>
            </div>
        </section>

        <section class="section">
            <h2 class="section-title">总结</h2>
            <p class="section-description">完成上述步骤后，你已经在 Linux/WSL2 系统上成功安装并配置了 Claude Code。</p>

            <div class="card">
                <h4>快速命令参考</h4>
                <div class="code-block">
                    <code>claude                    # 启动交互式会话<br>claude "帮我写一个脚本"   # 直接提问<br>claude --version          # 查看版本<br>claude doctor             # 系统诊断<br>claude update             # 更新 Claude Code<br>claude --help             # 查看帮助<br>which claude              # 查看安装位置</code>
                </div>
            </div>

            <div class="note">
                <strong>Linux/WSL 特有优势</strong>:
                <ul class="list">
                    <li><strong>轻量高效</strong>: Linux 系统资源占用少</li>
                    <li><strong>完美的开发环境</strong>: 原生支持各种开发工具</li>
                    <li><strong>WSL 互操作</strong>: 可同时访问 Windows 和 Linux 文件系统</li>
                    <li><strong>服务器部署</strong>: 可在生产服务器上使用</li>
                    <li><strong>Docker 友好</strong>: 可轻松容器化</li>
                </ul>
            </div>

            <div class="note">
                <strong>WSL 2 特别优势</strong>:
                <ul class="list">
                    <li>完整的 Linux 内核</li>
                    <li>更快的文件系统性能</li>
                    <li>完全的系统调用兼容性</li>
                    <li>与 Windows 无缝集成</li>
                </ul>
            </div>

            <div class="note">
                <strong>下一步建议</strong>:
                <ul class="list">
                    <li>阅读官方文档了解更多功能</li>
                    <li>在实际项目中使用 Claude Code</li>
                    <li>配置 Shell 别名提高效率</li>
                    <li>探索 Docker 和 CI/CD 集成</li>
                    <li>加入社区讨论最佳实践</li>
                </ul>
            </div>
        </section>
        </div>
        <aside class="toc-sidebar">
            <h3>📋 目录</h3>
            <ul>
                <li><a href="#system-requirements">系统要求</a></li>
                <li><a href="#distro-support">Linux 发行版支持</a></li>
                <li><a href="#wsl2-guide">WSL2 安装指南</a></li>
                <li><a href="#linux-native">Linux 原生安装</a></li>
                <li><a href="#environment">环境配置</a></li>
                <li><a href="#api-config">API 配置</a></li>
                <li><a href="#verification">验证安装</a></li>
                <li><a href="#troubleshooting">常见问题</a></li>
                <li><a href="#advanced">进阶配置</a></li>
            </ul>
        </aside>
    </div>

    <footer style="border-top: 1px solid var(--border-color); background: rgba(0, 0, 0, 0.5); backdrop-filter: blur(10px); margin-top: 5rem;">
        <div style="max-width: 1200px; margin: 0 auto; padding: 2rem; text-align: center;">
            <div style="display: flex; flex-direction: column; align-items: center; gap: 1rem;">
                <!-- 版权信息 -->
                <div style="font-size: 0.875rem; color: var(--text-secondary);" id="copyright-text"></div>
                <!-- 备案号 -->
                <div style="font-size: 0.875rem; color: #6b7280;" id="beian-number"></div>
            </div>
        </div>
    </footer>

    <script>
    // Load config from articles.json
    fetch('/data/articles.json')
        .then(response => response.json())
        .then(data => {
            const { beianNumber, copyrightText } = data.config;

            document.getElementById('copyright-text').textContent = copyrightText || '© 2025 Halavah\'s Tech. All rights reserved.';
            if (beianNumber) {
                document.getElementById('beian-number').textContent = beianNumber;
            }
        })
        .catch(error => console.error('Failed to load config:', error));
    </script>

    <script>
    // Smooth scroll and active link tracking
    document.querySelectorAll('.toc-sidebar a').forEach(link => {
        link.addEventListener('click', (e) => {
            e.preventDefault();
            const targetId = link.getAttribute('href').substring(1);
            const targetElement = document.getElementById(targetId);
            if (targetElement) {
                targetElement.scrollIntoView({ behavior: 'smooth', block: 'start' });
            }
        });
    });

    // Highlight active section
    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                document.querySelectorAll('.toc-sidebar a').forEach(link => {
                    link.classList.remove('active');
                    if (link.getAttribute('href') === `#${entry.target.id}`) {
                        link.classList.add('active');
                    }
                });
            }
        });
    }, { rootMargin: '-100px 0px -80% 0px' });

    document.querySelectorAll('section[id]').forEach(section => {
        observer.observe(section);
    });

    // Back to top button functionality
    const backToTop = document.getElementById('backToTop');

    // Show/hide button based on scroll position
    window.addEventListener('scroll', () => {
        if (window.scrollY > 300) {
            backToTop.classList.add('show');
        } else {
            backToTop.classList.remove('show');
        }
    });

    // Smooth scroll to top when button is clicked
    backToTop.addEventListener('click', () => {
        window.scrollTo({
            top: 0,
            behavior: 'smooth'
        });
    });
    </script>
</body>
</html>
