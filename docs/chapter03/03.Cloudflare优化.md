# Cloudflare CDN ä¸­å›½è®¿é—®åŠ é€Ÿæ–¹æ¡ˆ

<div align="center">

**ä¸ºä¸­å›½å¤§é™†ç”¨æˆ·æä¾›é«˜æ€§èƒ½å†…å®¹åˆ†å‘è§£å†³æ–¹æ¡ˆ**

[![Cloudflare](https://img.shields.io/badge/Cloudflare-F38020?style=flat&logo=cloudflare&logoColor=white)](https://www.cloudflare.com/)
[![Next.js](https://img.shields.io/badge/Next.js-000000?style=flat&logo=next.js&logoColor=white)](https://nextjs.org/)
[![Performance](https://img.shields.io/badge/Performance-Optimized-success)](/)

*é€‚ç”¨åœºæ™¯: æµ·å¤–æ‰˜ç®¡ + å›½å†…è®¿é—® + Cloudflare CDN*

</div>

---

## ğŸ“‹ ç›®å½•

- [1. èƒŒæ™¯ä¸æŒ‘æˆ˜](#1-èƒŒæ™¯ä¸æŒ‘æˆ˜)
- [2. è§£å†³æ–¹æ¡ˆæ¦‚è§ˆ](#2-è§£å†³æ–¹æ¡ˆæ¦‚è§ˆ)
- [3. æ¶æ„è¯´æ˜](#3-æ¶æ„è¯´æ˜)
- [4. Cloudflare é…ç½®æŒ‡å—](#4-cloudflare-é…ç½®æŒ‡å—)
  - [4.1 åŸºç¡€é…ç½®](#41-åŸºç¡€é…ç½®)
  - [4.2 æ€§èƒ½ä¼˜åŒ–](#42-æ€§èƒ½ä¼˜åŒ–)
  - [4.3 ç¼“å­˜ç­–ç•¥](#43-ç¼“å­˜ç­–ç•¥)
  - [4.4 é«˜çº§ä¼˜åŒ–](#44-é«˜çº§ä¼˜åŒ–)
- [5. éªŒè¯ä¸æµ‹è¯•](#5-éªŒè¯ä¸æµ‹è¯•)
- [6. æ€§èƒ½åŸºå‡†](#6-æ€§èƒ½åŸºå‡†)
- [7. æ•…éšœæ’æŸ¥](#7-æ•…éšœæ’æŸ¥)
- [8. æœ€ä½³å®è·µ](#8-æœ€ä½³å®è·µ)
- [9. æˆæœ¬åˆ†æ](#9-æˆæœ¬åˆ†æ)

---

## 1. èƒŒæ™¯ä¸æŒ‘æˆ˜

### 1.1 åº”ç”¨åœºæ™¯

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚             â”‚      â”‚              â”‚      â”‚             â”‚
â”‚  ä¸­å›½ç”¨æˆ·   â”‚ â”€â”€â”€â–¶ â”‚  Cloudflare  â”‚ â”€â”€â”€â–¶ â”‚   Vercel    â”‚
â”‚             ï¿½ï¿½ï¿½      â”‚  CDN è¾¹ç¼˜èŠ‚ç‚¹ â”‚      â”‚  (HKG1)     â”‚
â”‚             ï¿½ï¿½      â”‚              â”‚      â”‚             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     åŒ—äº¬/ä¸Šæµ·            é¦™æ¸¯/æ–°åŠ å¡           é¦™æ¸¯æ•°æ®ä¸­å¿ƒ
```

**å…¸å‹æ¶æ„**:
- **æºç«™**: Vercel (Hong Kong - HKG1)
- **CDN**: Cloudflare å…¨çƒç½‘ç»œ
- **ç”¨æˆ·**: ä¸­å›½å¤§é™†å„çœå¸‚

### 1.2 æ ¸å¿ƒæŒ‘æˆ˜

| æŒ‘æˆ˜ | æè¿° | å½±å“ |
|------|------|------|
| **é«˜å»¶è¿Ÿ** | å›½é™…å‡ºå£å¸¦å®½å—é™,è·¨å¢ƒè®¿é—®å»¶è¿Ÿé«˜ | TTFB 800-1200ms |
| **ä¸¢åŒ…ç‡é«˜** | ç½‘ç»œæ‹¥å¡å¯¼è‡´ä¸¢åŒ… | åŠ è½½å¤±è´¥ç‡ 5-10% |
| **DNS æ±¡æŸ“** | éƒ¨åˆ† DNS æŸ¥è¯¢ç»“æœä¸å‡†ç¡® | è·¯ç”±ä¸ä¼˜ |
| **ç¬¬ä¸‰æ–¹èµ„æºé˜»æ–­** | Google Fonts, CDN ç­‰è¢« GFW é˜»æ–­ | é˜»å¡ 1-3s |
| **å¼±ç½‘ç¯å¢ƒ** | ç§»åŠ¨ç½‘ç»œå’Œåè¿œåœ°åŒºç½‘ç»œè´¨é‡å·® | ç”¨æˆ·ä½“éªŒå·® |

### 1.3 ä¼˜åŒ–ç›®æ ‡

```yaml
æ€§èƒ½æŒ‡æ ‡ä¼˜åŒ–ç›®æ ‡:
  TTFB (é¦–å­—èŠ‚æ—¶é—´):
    å½“å‰: 800-1200ms
    ç›®æ ‡: 300-500ms
    æå‡: 60-70%

  é¦–å±åŠ è½½æ—¶é—´:
    å½“å‰: 3-5s
    ç›®æ ‡: 1-2s
    æå‡: 60-70%

  ç¼“å­˜å‘½ä¸­ç‡:
    å½“å‰: 40-60%
    ç›®æ ‡: 90%+
    æå‡: 50%+

  èµ„æºå‹ç¼©:
    HTML å¤§å°: 35-40KB â†’ 8-12KB (Brotli)
    å‹ç¼©ç‡: 70-75%
```

---

## 2. è§£å†³æ–¹æ¡ˆæ¦‚è§ˆ

### 2.1 å¤šå±‚ä¼˜åŒ–ç­–ç•¥

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     ä¼˜åŒ–å±‚æ¬¡ç»“æ„                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                           â”‚
â”‚  [Layer 1] æºç«™ä¼˜åŒ– (Next.js)                            â”‚
â”‚  â”œâ”€ ç§»é™¤ç¬¬ä¸‰æ–¹é˜»æ–­èµ„æº (Google Fonts)                     â”‚
â”‚  â”œâ”€ å¼ºåˆ¶é™æ€ç”Ÿæˆ (SSG)                                    â”‚
â”‚  â”œâ”€ HTML é¢„åŠ è½½ (Preload)                                â”‚
â”‚  â””â”€ iframe åŠ è½½ä¼˜åŒ–                                       â”‚
â”‚                                                           â”‚
â”‚  [Layer 2] CDN ä¼˜åŒ– (Cloudflare)                         â”‚
â”‚  â”œâ”€ æ™ºèƒ½å‹ç¼© (Brotli/Gzip)                               â”‚
â”‚  â”œâ”€ è¾¹ç¼˜ç¼“å­˜ (Edge Cache)                                â”‚
â”‚  â”œâ”€ èµ„æºæœ€å°åŒ– (Minify)                                  â”‚
â”‚  â””â”€ åè®®ä¼˜åŒ– (HTTP/3, 0-RTT)                             â”‚
â”‚                                                           â”‚
â”‚  [Layer 3] è·¯ç”±ä¼˜åŒ– (å¯é€‰)                               â”‚
â”‚  â”œâ”€ Argo Smart Routing                                   â”‚
â”‚  â”œâ”€ æ™ºèƒ½è´Ÿè½½å‡è¡¡                                          â”‚
â”‚  â””â”€ å¤šå±‚ç¼“å­˜æ‹“æ‰‘                                          â”‚
â”‚                                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 æŠ€æœ¯æ ˆ

- **å‰ç«¯æ¡†æ¶**: Next.js 15.5.9 (App Router)
- **éƒ¨ç½²å¹³å°**: Vercel (HKG1 - Hong Kong)
- **CDN æœåŠ¡**: Cloudflare (Free/Pro)
- **åè®®æ”¯æŒ**: HTTP/3, QUIC, 0-RTT
- **å‹ç¼©ç®—æ³•**: Brotli, Gzip

---

## 3. æ¶æ„è¯´æ˜

### 3.1 è¯·æ±‚æµç¨‹å›¾

```
ç”¨æˆ·è¯·æ±‚
   â”‚
   â–¼
DNS è§£æ (Cloudflare DNS)
   â”‚
   â–¼
è¾¹ç¼˜èŠ‚ç‚¹è·¯ç”±é€‰æ‹©
   â”‚
   â”œâ”€ HIT  â”€â”€â–¶ è¿”å›ç¼“å­˜å†…å®¹ (10-50ms)
   â”‚
   â””â”€ MISS â”€â”€â–¶ å›æºåˆ° Vercel (200-400ms)
                  â”‚
                  â–¼
              é™æ€èµ„æº (SSG)
                  â”‚
                  â–¼
              å‹ç¼©ä¼ è¾“ (Brotli)
                  â”‚
                  â–¼
              è¾¹ç¼˜èŠ‚ç‚¹ç¼“å­˜
                  â”‚
                  â–¼
              è¿”å›ç»™ç”¨æˆ·
```

### 3.2 ç¼“å­˜å±‚çº§

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æµè§ˆå™¨ç¼“å­˜ (Browser Cache)         â”‚
â”‚  TTL: 1 day (HTML/Pages)            â”‚
â”‚  TTL: 1 year (Static Assets)        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â–¼ MISS
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Cloudflare è¾¹ç¼˜ç¼“å­˜ (Edge Cache)   â”‚
â”‚  TTL: 1 week (HTML)                 â”‚
â”‚  TTL: 1 year (Static Assets)        â”‚
â”‚  å‘½ä¸­ç‡ç›®æ ‡: 90%+                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â–¼ MISS
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æºç«™ (Vercel - HKG1)               â”‚
â”‚  Next.js SSG é¢„æ¸²æŸ“                  â”‚
â”‚  æ„å»ºæ—¶ç”Ÿæˆæ‰€æœ‰é™æ€é¡µé¢              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 4. Cloudflare é…ç½®æŒ‡å—

### 4.1 åŸºç¡€é…ç½®

#### 4.1.1 DNS è®¾ç½®

**å¯¼èˆªè·¯å¾„**: `Websites` â†’ `[Your Domain]` â†’ `DNS` â†’ `Records`

**é…ç½®æ­¥éª¤**:

1. æ·»åŠ ä¸»åŸŸåè®°å½•:
   ```
   Type:    CNAME
   Name:    @ (æˆ–ä¸»åŸŸå)
   Target:  your-project.vercel.app
   Proxy:   âœ… Proxied (æ©™è‰²äº‘æœµ)
   TTL:     Auto
   ```

2. æ·»åŠ  www å­åŸŸå (å¯é€‰):
   ```
   Type:    CNAME
   Name:    www
   Target:  your-project.vercel.app
   Proxy:   âœ… Proxied (æ©™è‰²äº‘æœµ)
   TTL:     Auto
   ```

**éªŒè¯**:
```bash
# æ£€æŸ¥ DNS è®°å½•
dig yourdomain.com

# æ£€æŸ¥ Cloudflare ä»£ï¿½ï¿½ï¿½çŠ¶æ€
curl -I https://yourdomain.com | grep -i cf-ray
```

**é‡è¦æç¤º**:
- âš ï¸ **å¿…é¡»å¯ç”¨ Proxied çŠ¶æ€** (æ©™è‰²äº‘æœµ) æ‰èƒ½ä½¿ç”¨ Cloudflare CDN
- ç°è‰²äº‘æœµ (DNS Only) å°†ç»•è¿‡ Cloudflare,ç›´æ¥è§£æåˆ°æºç«™

#### 4.1.2 SSL/TLS é…ç½®

**å¯¼èˆªè·¯å¾„**: `SSL/TLS` â†’ `Overview`

**æ¨èè®¾ç½®**:
```
åŠ å¯†æ¨¡å¼: Full (strict)
```

**è¯´æ˜**:
- **Full (strict)**: ç«¯åˆ°ç«¯åŠ å¯†,Cloudflare éªŒè¯æºç«™è¯ä¹¦
- Vercel æä¾›æœ‰æ•ˆçš„ SSL è¯ä¹¦,æ”¯æŒä¸¥æ ¼æ¨¡å¼
- é¿å…ä½¿ç”¨ Flexible æ¨¡å¼ (Cloudflare åˆ°æºç«™ä¸åŠ å¯†)

**å…¶ä»– SSL è®¾ç½®**:

1. **Always Use HTTPS**:
   - è·¯å¾„: `SSL/TLS` â†’ `Edge Certificates` â†’ `Always Use HTTPS`
   - è®¾ç½®: âœ… å¯ç”¨
   - æ•ˆæœ: è‡ªåŠ¨å°† HTTP è¯·æ±‚é‡å®šå‘åˆ° HTTPS

2. **Automatic HTTPS Rewrites**:
   - è·¯å¾„: `SSL/TLS` â†’ `Edge Certificates` â†’ `Automatic HTTPS Rewrites`
   - è®¾ç½®: âœ… å¯ç”¨
   - æ•ˆæœ: è‡ªåŠ¨å°†æ··åˆå†…å®¹ (HTTP) é‡å†™ä¸º HTTPS

3. **Minimum TLS Version**:
   - è·¯å¾„: `SSL/TLS` â†’ `Edge Certificates` â†’ `Minimum TLS Version`
   - æ¨è: TLS 1.2 (å¹³è¡¡å…¼å®¹æ€§å’Œå®‰å…¨æ€§)

---

### 4.2 æ€§èƒ½ä¼˜åŒ–

#### 4.2.1 Auto Minify (èµ„æºå‹ç¼©)

**å¯¼èˆªè·¯å¾„**: `Speed` â†’ `Optimization` â†’ `Content Optimization`

**é…ç½®**:
```yaml
Auto Minify:
  JavaScript: âœ… å¯ç”¨
  CSS:        âœ… å¯ç”¨
  HTML:       âœ… å¯ç”¨
```

**æ•ˆæœ**:
| èµ„æºç±»å‹ | å‹ç¼©æ•ˆæœ | å®é™…æ¡ˆä¾‹ |
|---------|---------|---------|
| JavaScript | 10-20% | bundle.js: 250KB â†’ 210KB |
| CSS | 15-25% | styles.css: 80KB â†’ 62KB |
| HTML | 5-10% | page.html: 40KB â†’ 36KB |

**æ³¨æ„äº‹é¡¹**:
- å·²ç»è¿‡æ„å»ºå·¥å…·å‹ç¼©çš„èµ„æºæ•ˆæœæœ‰é™
- å¯èƒ½ä¸æŸäº›æºä»£ç æ˜ å°„ (Source Map) å†²çª
- å»ºè®®å…ˆåœ¨å¼€å‘ç¯å¢ƒæµ‹è¯•

#### 4.2.2 Brotli å‹ç¼©

**å¯¼èˆªè·¯å¾„**: `Speed` â†’ `Optimization` â†’ `Content Optimization` â†’ `Brotli`

**é…ç½®**:
```
Brotli: âœ… å¯ç”¨
```

**å‹ç¼©å¯¹æ¯”**:
```
åŸå§‹ HTML:    40KB  (100%)
Gzip:         12KB  (30%)   â† ä¼ ç»Ÿå‹ç¼©
Brotli:       10KB  (25%)   â† æ¯” Gzip é¢å¤–å‡å°‘ 17%
```

**æµè§ˆå™¨æ”¯æŒ**:
- âœ… Chrome/Edge 50+
- âœ… Firefox 44+
- âœ… Safari 11+
- âœ… è¦†ç›–ç‡ >95% å…¨çƒç”¨æˆ·

**å·¥ä½œåŸç†**:
```
è¯·æ±‚ â”€â”€â–¶ Accept-Encoding: br, gzip, deflate
         â”‚
         â–¼
å“åº” â—€â”€â”€ Content-Encoding: br
         Transfer-Encoding: chunked
         (Brotli å‹ç¼©å†…å®¹)
```

#### 4.2.3 Early Hints (HTTP 103)

**å¯¼èˆªè·¯å¾„**: `Speed` â†’ `Optimization` â†’ `Content Optimization` â†’ `Early Hints`

**é…ç½®**:
```
Early Hints: âœ… å¯ç”¨
```

**å·¥ä½œåŸç†**:
```
1. å®¢æˆ·ç«¯å‘é€è¯·æ±‚
   GET /article.html

2. æœåŠ¡å™¨ç«‹å³è¿”å› HTTP 103 (æå‰æç¤º)
   HTTP/1.1 103 Early Hints
   Link: </styles.css>; rel=preload; as=style
   Link: </script.js>; rel=preload; as=script

3. æµè§ˆå™¨æå‰å¼€å§‹åŠ è½½èµ„æº
   (å¹¶è¡Œè¿›è¡Œ,ä¸ç­‰å¾…å®Œæ•´å“åº”)

4. æœåŠ¡å™¨è¿”å›å®Œæ•´å“åº”
   HTTP/1.1 200 OK
   (é¡µé¢ HTML)
```

**æ•ˆæœ**:
- å‡å°‘èµ„æºå‘ç°æ—¶é—´: 100-300ms
- ç‰¹åˆ«é€‚åˆå¤šèµ„æºé¡µé¢
- å¯¹é¦–æ¬¡è®¿é—®ç”¨æˆ·æ•ˆæœæœ€æ˜æ˜¾

#### 4.2.4 HTTP/3 (QUIC)

**å¯¼èˆªè·¯å¾„**: `Network` â†’ `HTTP/3 (with QUIC)`

**é…ç½®**:
```
HTTP/3 (with QUIC): âœ… å¯ç”¨
```

**HTTP/3 vs HTTP/2**:

| ç‰¹æ€§ | HTTP/2 | HTTP/3 (QUIC) |
|------|--------|---------------|
| **ä¼ è¾“å±‚** | TCP | UDP |
| **è¿æ¥å»ºç«‹** | 3 æ¬¡æ¡æ‰‹ + TLS | 1-RTT / 0-RTT |
| **é˜Ÿå¤´é˜»å¡** | å­˜åœ¨ | å·²è§£å†³ |
| **è¿æ¥è¿ç§»** | ä¸æ”¯æŒ | æ”¯æŒ (IP åˆ‡æ¢) |
| **å¼±ç½‘ä¼˜åŒ–** | ä¸€èˆ¬ | ä¼˜ç§€ |

**æ€§èƒ½æå‡**:
```
TCP (HTTP/2) è¿æ¥å»ºç«‹:
  â”Œâ”€â”€â”€â”€â” SYN          â”Œâ”€â”€â”€â”€â”
  â”‚å®¢æˆ·ç«¯â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚æœåŠ¡å™¨â”‚  ç¬¬1æ¬¡æ¡æ‰‹
  â””â”€â”€â”€â”€â”˜             â””â”€â”€â”€â”€â”˜
  â”Œâ”€â”€â”€â”€â” SYN-ACK      â”Œâ”€â”€â”€â”€â”
  â”‚å®¢æˆ·ç«¯â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚æœåŠ¡å™¨â”‚  ç¬¬2æ¬¡æ¡æ‰‹
  â””â”€â”€â”€â”€â”˜             â””â”€â”€â”€â”€â”˜
  â”Œâ”€â”€â”€â”€â” ACK          â”Œâ”€â”€â”€â”€â”
  â”‚å®¢æˆ·ç«¯â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚æœåŠ¡å™¨â”‚  ç¬¬3æ¬¡æ¡æ‰‹
  â””â”€â”€â”€â”€â”˜             â””â”€â”€â”€â”€â”˜
  â”Œâ”€â”€â”€â”€â” TLSæ¡æ‰‹      â”Œâ”€â”€â”€â”€â”
  â”‚å®¢æˆ·ç«¯â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚æœåŠ¡å™¨â”‚  é¢å¤– 2-3 RTT
  â””â”€â”€â”€â”€â”˜             â””â”€â”€â”€â”€â”˜
  æ€»è®¡: 4-6 RTT (400-1200ms ä¸­å›½â†’é¦™æ¸¯)

QUIC (HTTP/3) è¿æ¥å»ºç«‹:
  â”Œâ”€â”€â”€â”€â” ClientHello  â”Œâ”€â”€â”€â”€â”
  â”‚å®¢æˆ·ç«¯â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚æœåŠ¡å™¨â”‚
  â””â”€â”€â”€â”€â”˜             â””â”€â”€â”€â”€â”˜
  â”Œâ”€â”€â”€â”€â” ServerHello  â”Œâ”€â”€â”€â”€â”
  â”‚å®¢æˆ·ç«¯â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚æœåŠ¡å™¨â”‚
  â””â”€â”€â”€â”€â”˜             â””â”€â”€â”€â”€â”˜
  (å·²åŠ å¯†,å·²è®¤è¯,å¯ä¼ è¾“æ•°æ®)
  æ€»è®¡: 1 RTT (100-200ms)
```

**0-RTT æ¨¡å¼** (å›è®¿ç”¨æˆ·):
```
â”Œâ”€â”€â”€â”€â” åŠ å¯†è¯·æ±‚+æ•°æ®  â”Œâ”€â”€â”€â”€â”
â”‚å®¢æˆ·ç«¯â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚æœåŠ¡å™¨â”‚
â””â”€â”€â”€â”€â”˜             â””â”€â”€â”€â”€â”˜
(ä½¿ç”¨ä¹‹å‰çš„ä¼šè¯å¯†é’¥,0 RTT)
```

#### 4.2.5 0-RTT Connection Resumption

**å¯¼èˆªè·¯å¾„**: `Network` â†’ `0-RTT Connection Resumption`

**é…ç½®**:
```
0-RTT Connection Resumption: âœ… å¯ç”¨
```

**å·¥ä½œåŸç†**:
```
é¦–æ¬¡è®¿é—®:
  - å»ºç«‹ TLS è¿æ¥
  - æœåŠ¡å™¨å‘é€ Session Ticket
  - å®¢æˆ·ç«¯ä¿å­˜ Ticket

å›è®¿ (0-RTT):
  - å®¢æˆ·ç«¯ç›´æ¥ä½¿ç”¨ Ticket + åŠ å¯†è¯·æ±‚
  - æ— éœ€æ¡æ‰‹,ç«‹å³ä¼ è¾“æ•°æ®
  - å»¶è¿Ÿé™ä½ 100-200ms
```

**å®‰å…¨æ€§æ³¨æ„**:
- 0-RTT æ•°æ®å¯èƒ½è¢«é‡æ”¾ (replay attack)
- Cloudflare è‡ªåŠ¨å¤„ç†å¹‚ç­‰æ€§æ£€æŸ¥
- åªå¯¹ GET è¯·æ±‚å¯ç”¨ 0-RTT

#### 4.2.6 å…¶ä»–ç½‘ç»œä¼˜åŒ–

**WebSockets**:
```
è·¯å¾„: Network â†’ WebSockets
è®¾ç½®: âœ… å¯ç”¨
```
- è™½ç„¶å½“å‰é¡¹ç›®æœªä½¿ç”¨,ä½†å»ºè®®å¯ç”¨
- ä¸ºæœªæ¥å®æ—¶åŠŸèƒ½é¢„ç•™æ”¯æŒ

**IP Geolocation**:
```
è·¯å¾„: Network â†’ IP Geolocation
è®¾ç½®: âœ… å¯ç”¨
```
- åœ¨ HTTP å¤´ä¸­æ·»åŠ  `CF-IPCountry`
- å¯ç”¨äºåœ°åŸŸåŒ–å†…å®¹åˆ†å‘

**WebP è½¬æ¢** (Pro å¥—é¤):
```
è·¯å¾„: Speed â†’ Optimization â†’ Image Optimization
è®¾ç½®: Lossless / Lossy
```
- è‡ªåŠ¨å°† PNG/JPEG è½¬æ¢ä¸º WebP
- å‡å°‘å›¾ç‰‡ä½“ç§¯ 25-35%

---

### 4.3 ç¼“å­˜ç­–ç•¥

#### 4.3.1 ç¼“å­˜çº§åˆ«é…ç½®

**å¯¼èˆªè·¯å¾„**: `Caching` â†’ `Configuration`

**åŸºç¡€è®¾ç½®**:
```yaml
Caching Level: Standard
Browser Cache TTL: Respect Existing Headers
Crawlers Hint: âœ… å¯ç”¨
Always Online: âœ… å¯ç”¨
```

**è¯´æ˜**:
- **Standard**: ç¼“å­˜é™æ€èµ„æº (HTML, CSS, JS, å›¾ç‰‡ç­‰)
- **Respect Existing Headers**: ä¼˜å…ˆä½¿ç”¨æºç«™çš„ Cache-Control å¤´
- **Always Online**: CDN ç¼“å­˜ä½œä¸ºå¤‡ä»½,æºç«™å®•æœºæ—¶ä»å¯è®¿é—®

#### 4.3.2 Page Rules é…ç½® â­â­â­

**å¯¼èˆªè·¯å¾„**: `Rules` â†’ `Page Rules` â†’ `+ Create Page Rule`

**å…è´¹å¥—é¤é™åˆ¶**: 3 æ¡è§„åˆ™
**Pro å¥—é¤**: 20 æ¡è§„åˆ™

---

##### **è§„åˆ™ 1: HTML é™æ€æ–‡ä»¶ç¼“å­˜**

```yaml
URL æ¨¡å¼: *yourdomain.com/*.html

è®¾ç½®:
  Cache Level: Cache Everything
  Edge Cache TTL: 1 month (2592000 seconds)
  Browser Cache TTL: 1 day (86400 seconds)
  Origin Cache Control: âœ… å¯ç”¨
```

**ä¼˜å…ˆçº§**: 1 (æœ€é«˜)

**è§£é‡Š**:
- **Cache Everything**: å¼ºåˆ¶ç¼“å­˜ HTML (é»˜è®¤ä¸ç¼“å­˜)
- **Edge Cache TTL**: CDN è¾¹ç¼˜èŠ‚ç‚¹ç¼“å­˜ 30 å¤©
- **Browser Cache TTL**: æµè§ˆå™¨ç¼“å­˜ 1 å¤©
- HTML æ–‡ä»¶æ˜¯é™æ€ç”Ÿæˆçš„,å†…å®¹ç¨³å®š,å¯ä»¥é•¿æœŸç¼“å­˜

**æ›´æ–°ç­–ç•¥**:
- å†…å®¹æ›´æ–°æ—¶ä½¿ç”¨ Cloudflare API æ¸…é™¤ç¼“å­˜
- æˆ–åœ¨ Cloudflare Dashboard æ‰‹åŠ¨ Purge Cache

**éªŒè¯**:
```bash
curl -I https://yourdomain.com/chapter01/0101.windows-installation.html

# æœŸæœ›å“åº”å¤´:
cf-cache-status: HIT
cache-control: public, max-age=86400
```

---

##### **è§„åˆ™ 2: Next.js é™æ€èµ„æºç¼“å­˜**

```yaml
URL æ¨¡å¼: *yourdomain.com/_next/static/*

è®¾ç½®:
  Cache Level: Cache Everything
  Edge Cache TTL: 1 year (31536000 seconds)
  Browser Cache TTL: 1 year (31536000 seconds)
```

**ä¼˜å…ˆçº§**: 2

**è§£é‡Š**:
- Next.js é™æ€èµ„æºåŒ…å«å†…å®¹å“ˆå¸Œ (å¦‚ `main-abc123.js`)
- æ–‡ä»¶å†…å®¹å˜åŒ–æ—¶,æ–‡ä»¶åä¹Ÿä¼šå˜åŒ–
- å¯ä»¥å®‰å…¨åœ°æ°¸ä¹…ç¼“å­˜

**ç¤ºä¾‹ URL**:
```
https://yourdomain.com/_next/static/chunks/main-a1b2c3d4.js
https://yourdomain.com/_next/static/css/app-e5f6g7h8.css
```

---

##### **è§„åˆ™ 3: æ–‡ç« é¡µé¢åŠ¨æ€è·¯ç”±ç¼“å­˜**

```yaml
URL æ¨¡å¼: *yourdomain.com/chapter*/*

è®¾ç½®:
  Cache Level: Cache Everything
  Edge Cache TTL: 1 week (604800 seconds)
  Browser Cache TTL: 1 day (86400 seconds)
```

**ä¼˜å…ˆçº§**: 3

**è§£é‡Š**:
- æ–‡ç« é¡µé¢æ˜¯ Next.js åŠ¨æ€è·¯ç”±,ä½†å†…å®¹æ˜¯é™æ€çš„
- è¾¹ç¼˜ç¼“å­˜ 7 å¤©,å¹³è¡¡ç¼“å­˜æ•ˆç‡å’Œæ›´æ–°é¢‘ç‡
- æµè§ˆå™¨ç¼“å­˜ 1 å¤©,æ–¹ä¾¿å†…å®¹æ›´æ–°

**åŒ¹é… URL ç¤ºä¾‹**:
```
https://yourdomain.com/chapter01/0101.windows-installation
https://yourdomain.com/chapter02/0201.advanced-features
```

---

##### **Page Rules é…ç½®æˆªå›¾å‚è€ƒ**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Page Rules                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                         â”‚
â”‚ 1. *yourdomain.com/*.html                              â”‚
â”‚    Cache Level: Cache Everything                       â”‚
â”‚    Edge Cache TTL: 1 month                             â”‚
â”‚    [Edit] [Delete]                                     â”‚
â”‚                                                         â”‚
â”‚ 2. *yourdomain.com/_next/static/*                      â”‚
â”‚    Cache Level: Cache Everything                       â”‚
â”‚    Edge Cache TTL: 1 year                              â”‚
â”‚    [Edit] [Delete]                                     â”‚
â”‚                                                         â”‚
â”‚ 3. *yourdomain.com/chapter*/*                          â”‚
â”‚    Cache Level: Cache Everything                       â”‚
â”‚    Edge Cache TTL: 1 week                              â”‚
â”‚    [Edit] [Delete]                                     â”‚
â”‚                                                         â”‚
â”‚ [+ Create Page Rule] (0/3 remaining - Free Plan)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 4.3.3 ç¼“å­˜æ¸…é™¤ç­–ç•¥

**æ‰‹åŠ¨æ¸…é™¤ç¼“å­˜**:
```
è·¯å¾„: Caching â†’ Configuration â†’ Purge Cache

é€‰é¡¹:
1. Purge Everything - æ¸…é™¤æ‰€æœ‰ç¼“å­˜
2. Custom Purge - æŒ‰ URL/Tag/Host æ¸…é™¤
```

**API æ¸…é™¤ç¼“å­˜** (è‡ªåŠ¨åŒ–):
```bash
# æ¸…é™¤ç‰¹å®š URL
curl -X POST "https://api.cloudflare.com/client/v4/zones/{zone_id}/purge_cache" \
  -H "Authorization: Bearer {api_token}" \
  -H "Content-Type: application/json" \
  --data '{
    "files": [
      "https://yourdomain.com/chapter01/0101.windows-installation.html",
      "https://yourdomain.com/chapter01/0102.macos-installation.html"
    ]
  }'

# æ¸…é™¤æ‰€æœ‰ç¼“å­˜
curl -X POST "https://api.cloudflare.com/client/v4/zones/{zone_id}/purge_cache" \
  -H "Authorization: Bearer {api_token}" \
  -H "Content-Type: application/json" \
  --data '{"purge_everything": true}'
```

**é›†æˆåˆ° CI/CD**:
```yaml
# GitHub Actions ç¤ºä¾‹
- name: Purge Cloudflare Cache
  run: |
    curl -X POST "https://api.cloudflare.com/client/v4/zones/${{ secrets.CF_ZONE_ID }}/purge_cache" \
      -H "Authorization: Bearer ${{ secrets.CF_API_TOKEN }}" \
      -H "Content-Type: application/json" \
      --data '{"purge_everything": true}'
```

---

### 4.4 é«˜çº§ä¼˜åŒ–

#### 4.4.1 Argo Smart Routing â­ (æ¨è)

**å¯¼èˆªè·¯å¾„**: `Traffic` â†’ `Argo Smart Routing`

**å®šä»·**:
```
$5.00 USD/æœˆ (åŸºç¡€è´¹ç”¨)
+ $0.10 USD/GB (æµé‡è´¹ç”¨)

ç¤ºä¾‹æˆæœ¬:
  10GB/æœˆ  = $5 + $1   = $6/æœˆ
  50GB/æœˆ  = $5 + $5   = $10/æœˆ
  100GB/æœˆ = $5 + $10  = $15/æœˆ
```

**å·¥ä½œåŸç†**:
```
ä¼ ç»Ÿè·¯ç”±:
  ä¸­å›½ç”¨æˆ· â”€â”€â”€â”€â”€(å…¬å…±äº’è”ç½‘)â”€â”€â”€â”€â–¶ Vercel HKG1
  â”‚                                â”‚
  â”‚  ä¸¢åŒ…, æ‹¥å¡, ç»•è·¯               â”‚
  â”‚  å»¶è¿Ÿ: 300-500ms               â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Argo Smart Routing:
  ä¸­å›½ç”¨æˆ· â”€â–¶ Cloudflare è¾¹ç¼˜èŠ‚ç‚¹ (ä¸Šæµ·/åŒ—äº¬)
              â”‚
              â–¼ (Cloudflare ä¸“ç”¨ç½‘ç»œ)
  ä¼˜åŒ–è·¯ç”± â”€â–¶ Cloudflare POP (é¦™æ¸¯)
              â”‚
              â–¼ (ä½å»¶è¿Ÿ, é«˜å¸¦å®½)
              Vercel HKG1
  å»¶è¿Ÿ: 150-300ms (å‡å°‘ 50%)
```

**æ€§èƒ½æå‡**:
- å¹³å‡å‡å°‘ **30-50% å»¶è¿Ÿ**
- é™ä½ä¸¢åŒ…ç‡ **50-80%**
- æ™ºèƒ½é¿å¼€æ‹¥å¡è·¯å¾„
- è‡ªåŠ¨é€‰æ‹©æœ€ä¼˜è¾¹ç¼˜èŠ‚ç‚¹

**ROI åˆ†æ**:
```
è®¿é—®é‡: 10,000 PV/å¤©
å¹³å‡é¡µé¢: 500KB
æœˆæµé‡: 10,000 Ã— 30 Ã— 500KB â‰ˆ 150GB
æœˆæˆæœ¬: $5 + $15 = $20

æ€§èƒ½æå‡:
  TTFB: 500ms â†’ 300ms (å‡å°‘ 200ms)
  ç”¨æˆ·ä½“éªŒæå‡: æ˜¾è‘—
  è·³å‡ºç‡é™ä½: çº¦ 10-20%
```

**å¯ç”¨æ­¥éª¤**:
1. è¿›å…¥ `Traffic` â†’ `Argo Smart Routing`
2. ç‚¹å‡» `Enable Argo`
3. ç¡®è®¤ä»˜è´¹è®¡åˆ’
4. ç­‰å¾… 5-10 åˆ†é’Ÿç”Ÿæ•ˆ
5. åœ¨ Analytics ä¸­ç›‘æ§æ•ˆæœ

#### 4.4.2 Tiered Cache Topology (å¤šå±‚ç¼“å­˜)

**å¯¼èˆªè·¯å¾„**: `Caching` â†’ `Tiered Cache`

**å¥—é¤è¦æ±‚**: Pro æˆ–ä»¥ä¸Š

**æ¶æ„**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          ç”¨æˆ·è¯·æ±‚                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     åŒºåŸŸè¾¹ç¼˜èŠ‚ç‚¹ (Regional Edge)                â”‚
â”‚     - è·ç¦»ç”¨æˆ·æœ€è¿‘                             â”‚
â”‚     - å¿«é€Ÿå“åº”                                 â”‚
â”‚     - ç¼“å­˜å¸¸è§å†…å®¹                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚ MISS
                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     ä¸Šå±‚ç¼“å­˜èŠ‚ç‚¹ (Upper Tier)                   â”‚
â”‚     - åŒºåŸŸä¸­å¿ƒèŠ‚ç‚¹                             â”‚
â”‚     - æ›´å¤§çš„ç¼“å­˜å®¹é‡                           â”‚
â”‚     - æ›´é«˜çš„ç¼“å­˜å‘½ä¸­ç‡                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚ MISS
                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     æºç«™ (Origin - Vercel)                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ä¼˜åŠ¿**:
- **å‡å°‘å›æº**: è¾¹ç¼˜èŠ‚ç‚¹ä»ä¸Šå±‚ç¼“å­˜è·å–,é™ä½æºç«™å‹åŠ›
- **æé«˜å‘½ä¸­ç‡**: å¤šå±‚ç¼“å­˜å¢åŠ å‘½ä¸­æœºä¼š
- **é™ä½æˆæœ¬**: å‡å°‘æºç«™æµé‡æ¶ˆè€—

**æ•ˆæœæ•°æ®**:
```
æ— å¤šå±‚ç¼“å­˜:
  ç¼“å­˜å‘½ä¸­ç‡: 70-80%
  å›æºè¯·æ±‚: 20-30%

å¯ç”¨å¤šå±‚ç¼“å­˜:
  æ€»ä½“å‘½ä¸­ç‡: 85-95%
  å›æºè¯·æ±‚: 5-15%
  æºç«™è´Ÿè½½: é™ä½ 50-70%
```

#### 4.4.3 å®‰å…¨å¢å¼º

##### Bot Fight Mode

**è·¯å¾„**: `Security` â†’ `Bots` â†’ `Bot Fight Mode`

**é…ç½®**: âœ… å¯ç”¨

**æ•ˆæœ**:
- è‡ªåŠ¨è¯†åˆ«å’Œè¿‡æ»¤æ¶æ„æœºå™¨äºº
- ä¿æŠ¤æºç«™å…å—çˆ¬è™«æ”»å‡»
- å‡å°‘æ— æ•ˆæµé‡å’Œå¸¦å®½æ¶ˆè€—
- æå‡çœŸå®ç”¨æˆ·ä½“éªŒ

##### å®‰å…¨çº§åˆ«

**è·¯å¾„**: `Security` â†’ `Settings` â†’ `Security Level`

**æ¨è**: Medium

**é€‰é¡¹è¯´æ˜**:
- **Off**: æ— å®‰å…¨æ£€æŸ¥
- **Essentially Off**: æå°‘æ£€æŸ¥
- **Low**: ä½å®‰å…¨çº§åˆ«
- **Medium**: å¹³è¡¡å®‰å…¨ä¸ç”¨æˆ·ä½“éªŒ âœ…
- **High**: é«˜å®‰å…¨çº§åˆ« (å¯èƒ½è¯¯æ€)
- **Under Attack**: æ”»å‡»æ¨¡å¼ (å¯ç”¨ JavaScript æŒ‘æˆ˜)

##### DDoS ä¿æŠ¤

Cloudflare å…è´¹æä¾›:
- **L3/L4 DDoS é˜²æŠ¤**: è‡ªåŠ¨ç¼“è§£ç½‘ç»œå±‚æ”»å‡»
- **L7 DDoS é˜²æŠ¤**: é˜²å¾¡åº”ç”¨å±‚æ”»å‡»
- **Rate Limiting**: é™åˆ¶è¯·æ±‚é¢‘ç‡ (Pro å¥—é¤)

---

## 5. éªŒè¯ä¸æµ‹è¯•

### 5.1 å‘½ä»¤è¡ŒéªŒè¯

#### æ£€æŸ¥ DNS è§£æ
```bash
# macOS/Linux
dig yourdomain.com

# Windows
nslookup yourdomain.com

# æœŸæœ›è¾“å‡ºåŒ…å« Cloudflare IP
;; ANSWER SECTION:
yourdomain.com. 300 IN A 104.21.x.x
```

#### æ£€æŸ¥ Cloudflare ä»£ç†çŠ¶æ€
```bash
curl -I https://yourdomain.com

# æœŸæœ›å“åº”å¤´åŒ…å«:
server: cloudflare
cf-ray: xxxxx-HKG
cf-cache-status: HIT/MISS
```

#### æ£€æŸ¥ Brotli å‹ç¼©
```bash
curl -H "Accept-Encoding: br" -I https://yourdomain.com/chapter01/0101.windows-installation.html

# æœŸæœ›è¾“å‡º:
content-encoding: br
```

#### æ£€æŸ¥ HTTP/3 æ”¯æŒ
```bash
# éœ€è¦æ”¯æŒ HTTP/3 çš„ curl ç‰ˆæœ¬
curl --http3 -I https://yourdomain.com

# æœŸæœ›è¾“å‡º:
HTTP/3 200
```

#### æµ‹è¯• TTFB å’Œæ€»åŠ è½½æ—¶é—´
```bash
curl -o /dev/null -s -w "\
DNSè§£æ:     %{time_namelookup}s\n\
TCPè¿æ¥:     %{time_connect}s\n\
TLSæ¡æ‰‹:     %{time_appconnect}s\n\
TTFB:        %{time_starttransfer}s\n\
æ€»æ—¶é—´:      %{time_total}s\n\
ä¸‹è½½é€Ÿåº¦:    %{speed_download} bytes/s\n" \
https://yourdomain.com/chapter01/0101.windows-installation.html
```

**ä¼˜åŒ–åçš„æœŸæœ›å€¼** (ä¸­å›½â†’é¦™æ¸¯):
```
DNSè§£æ:     0.050s
TCPè¿æ¥:     0.120s
TLSæ¡æ‰‹:     0.200s
TTFB:        0.350s   â† å…³é”®æŒ‡æ ‡
æ€»æ—¶é—´:      0.800s
ä¸‹è½½é€Ÿåº¦:    50000 bytes/s
```

### 5.2 åœ¨çº¿æµ‹è¯•å·¥å…·

#### 5.2.1 ä¸­å›½å¤šåœ°ç‚¹æµ‹è¯•

**17CE (ç«™é•¿å·¥å…·)**:
- URL: https://www.17ce.com/
- åŠŸèƒ½: ä¸­å›½ 200+ èŠ‚ç‚¹é€Ÿåº¦æµ‹è¯•
- æµ‹è¯•é¡¹: è§£ææ—¶é—´, è¿æ¥æ—¶é—´, ä¸‹è½½é€Ÿåº¦

**ä½¿ç”¨æ­¥éª¤**:
1. è¾“å…¥ä½ çš„ç½‘ç«™ URL
2. é€‰æ‹© "å›½å†…" æµ‹è¯•
3. é€‰æ‹©å¤šä¸ªçœä»½èŠ‚ç‚¹ (åŒ—äº¬, ä¸Šæµ·, å¹¿å·, æˆéƒ½ç­‰)
4. ç‚¹å‡» "ç«‹å³æµ‹è¯•"
5. åˆ†æç»“æœ: æŸ¥çœ‹å¹³å‡ TTFB å’ŒåŠ è½½æ—¶é—´

**ç›®æ ‡æŒ‡æ ‡**:
```
å…¨å›½å¹³å‡ TTFB: < 500ms
é¦–å±åŠ è½½æ—¶é—´:  < 2s
å“åº”æˆåŠŸç‡:    > 98%
```

#### 5.2.2 å…¨çƒæ€§èƒ½æµ‹è¯•

**WebPageTest**:
- URL: https://www.webpagetest.org/
- åŠŸèƒ½: è¯¦ç»†çš„æ€§èƒ½ç€‘å¸ƒå›¾å’ŒæŒ‡æ ‡

**æµ‹è¯•æ­¥éª¤**:
1. è¾“å…¥ URL
2. é€‰æ‹©æµ‹è¯•åœ°ç‚¹:
   - `Hong Kong, China - Chrome`
   - `Singapore - Chrome`
   - `Beijing, China - Chrome` (å¦‚æœå¯ç”¨)
3. é€‰æ‹©è¿æ¥é€Ÿåº¦: `Cable (5/1 Mbps 28ms RTT)`
4. è¿è¡Œæµ‹è¯•

**å…³é”®æŒ‡æ ‡**:
```yaml
First Contentful Paint (FCP): < 1.5s
Largest Contentful Paint (LCP): < 2.5s
Time to Interactive (TTI): < 3.5s
Total Blocking Time (TBT): < 300ms
Cumulative Layout Shift (CLS): < 0.1
```

**GTmetrix**:
- URL: https://gtmetrix.com/
- åŠŸèƒ½: æ€§èƒ½è¯„åˆ†å’Œä¼˜åŒ–å»ºè®®

**Cloudflare Speed Test**:
- URL: https://speed.cloudflare.com/
- åŠŸèƒ½: æµ‹è¯•åˆ° Cloudflare ç½‘ç»œçš„è¿æ¥é€Ÿåº¦

### 5.3 æµè§ˆå™¨å¼€å‘è€…å·¥å…·

#### Chrome DevTools Network åˆ†æ

**æ­¥éª¤**:
1. æ‰“å¼€ Chrome DevTools (F12)
2. åˆ‡æ¢åˆ° `Network` æ ‡ç­¾
3. å‹¾é€‰ `Disable cache` (æµ‹è¯•å†·å¯åŠ¨æ€§èƒ½)
4. åˆ·æ–°é¡µé¢ (Ctrl+R æˆ– Cmd+R)

**å…³é”®æŒ‡æ ‡**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Name           Status  Type      Size    Time     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 0101.html      200     document  10KB    450ms    â”‚ â† TTFB
â”‚ _next/static/  200     script    25KB    80ms     â”‚
â”‚ styles.css     200     stylesheet 8KB    60ms     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

å…³é”®åˆ—:
- Size: ä¼ è¾“å¤§å° (åº”æ˜¾ç¤ºå‹ç¼©åå¤§å°)
- Time: æ€»æ—¶é—´ (TTFB + ä¸‹è½½æ—¶é—´)
- Waterfall: è¯·æ±‚æ—¶é—´çº¿ (æŸ¥çœ‹å¹¶è¡Œåº¦)
```

**æŸ¥çœ‹å“åº”å¤´**:
```
å³é”®è¯·æ±‚ â†’ Headers

å…³é”®å“åº”å¤´:
  cf-cache-status: HIT          â† ç¼“å­˜çŠ¶æ€
  content-encoding: br          â† å‹ç¼©ç®—æ³•
  cache-control: public, max-age=86400
  cf-ray: xxxxx-HKG             â† è¾¹ç¼˜èŠ‚ç‚¹ä½ç½®
```

#### Lighthouse æ€§èƒ½å®¡è®¡

**æ­¥éª¤**:
1. Chrome DevTools â†’ `Lighthouse` æ ‡ç­¾
2. é€‰æ‹©ç±»åˆ«: `Performance`
3. é€‰æ‹©è®¾å¤‡: `Mobile` æˆ– `Desktop`
4. ç‚¹å‡» `Analyze page load`

**ç›®æ ‡åˆ†æ•°**:
```
Performance:       90+  âœ…
Accessibility:     90+
Best Practices:    90+
SEO:               90+
```

### 5.4 æŒç»­ç›‘æ§

#### Cloudflare Analytics

**å¯¼èˆªè·¯å¾„**: `Analytics & Logs` â†’ `Traffic`

**å…³é”®æŒ‡æ ‡**:
```yaml
æ€»è¯·æ±‚æ•° (Requests):
  - è¶‹åŠ¿å›¾: æŸ¥çœ‹æµé‡å˜åŒ–
  - ç›®æ ‡: ç¨³å®šå¢é•¿

å¸¦å®½ä½¿ç”¨ (Bandwidth):
  - ç¼“å­˜vséç¼“å­˜: æŸ¥çœ‹ç¼“å­˜æ•ˆç‡
  - ç›®æ ‡: ç¼“å­˜å¸¦å®½ > 80%

ç¼“å­˜å‘½ä¸­ç‡ (Cache Hit Rate):
  - è®¡ç®—: Cached Requests / Total Requests
  - ç›®æ ‡: > 90%

HTTP çŠ¶æ€ç :
  - 2xx (æˆåŠŸ): ç›®æ ‡ > 98%
  - 4xx (å®¢æˆ·ç«¯é”™è¯¯): ç›‘æ§å¼‚å¸¸
  - 5xx (æœåŠ¡å™¨é”™è¯¯): < 1% (ç†æƒ³ < 0.1%)
```

#### æ€§èƒ½ç›‘æ§ Dashboard

**å¯¼èˆªè·¯å¾„**: `Speed` â†’ `Observatory`

**åŠŸèƒ½**:
- æ¯æ—¥æ€§èƒ½æµ‹è¯•
- ä¸ç«å“å¯¹æ¯”
- å†å²è¶‹åŠ¿åˆ†æ

---

## 6. æ€§èƒ½åŸºå‡†

### 6.1 ä¼˜åŒ–å‰åå¯¹æ¯”

#### åœºæ™¯ 1: ä¸­å›½åŒ—äº¬è®¿é—®é¦™æ¸¯

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       æŒ‡æ ‡          â”‚   ä¼˜åŒ–å‰     â”‚    ä¼˜åŒ–å    â”‚   æå‡   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ DNS è§£æ            â”‚   80-150ms   â”‚   30-50ms    â”‚  -60%    â”‚
â”‚ TCP è¿æ¥            â”‚   150-250ms  â”‚   100-150ms  â”‚  -40%    â”‚
â”‚ TLS æ¡æ‰‹            â”‚   200-400ms  â”‚   80-120ms   â”‚  -70%    â”‚ â† HTTP/3
â”‚ TTFB                â”‚   800-1200ms â”‚   300-500ms  â”‚  -62%    â”‚ â­
â”‚ HTML ä¼ ï¿½ï¿½           â”‚   400-600ms  â”‚   100-200ms  â”‚  -67%    â”‚ â† Brotli
â”‚ é¦–å±æ¸²æŸ“ (FCP)      â”‚   2000-3000msâ”‚   800-1200ms â”‚  -60%    â”‚
â”‚ å®Œå…¨åŠ è½½ (Load)     â”‚   3500-5000msâ”‚   1500-2500msâ”‚  -55%    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### åœºæ™¯ 2: å›è®¿ç”¨æˆ· (æœ‰ç¼“å­˜)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       æŒ‡æ ‡          â”‚   ä¼˜åŒ–å‰     â”‚    ä¼˜åŒ–å    â”‚   æå‡   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ è¿æ¥å»ºç«‹ (0-RTT)    â”‚   400ms      â”‚   0ms        â”‚  -100%   â”‚ â­
â”‚ TTFB                â”‚   500ms      â”‚   50-100ms   â”‚  -85%    â”‚ â† Edge Cache
â”‚ å®Œå…¨åŠ è½½            â”‚   2000ms     â”‚   300-500ms  â”‚  -80%    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 6.2 èµ„æºå¤§å°ä¼˜åŒ–

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      æ–‡ä»¶ç±»å‹       â”‚   åŸå§‹å¤§å°   â”‚   ä¼ è¾“å¤§å°   â”‚  å‹ç¼©ç‡  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ HTML (å•ä¸ªæ–‡ç« )     â”‚   38KB       â”‚   10KB       â”‚   74%    â”‚ â† Brotli
â”‚ CSS (å…¨å±€æ ·å¼)      â”‚   45KB       â”‚   12KB       â”‚   73%    â”‚
â”‚ JavaScript (bundle) â”‚   180KB      â”‚   48KB       â”‚   73%    â”‚
â”‚ JSON (articles.json)â”‚   15KB       â”‚   4KB        â”‚   73%    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 6.3 ç¼“å­˜æ•ˆç‡

```yaml
ç¬¬ 1 å‘¨:
  è¯·æ±‚æ€»æ•°: 100,000
  ç¼“å­˜å‘½ä¸­: 60,000  (60%)   â† å†·å¯åŠ¨é˜¶æ®µ
  å›æºè¯·æ±‚: 40,000  (40%)

ç¬¬ 2 å‘¨:
  è¯·æ±‚æ€»æ•°: 120,000
  ç¼“å­˜å‘½ä¸­: 105,600 (88%)   â† ç¼“å­˜é¢„çƒ­å®Œæˆ
  å›æºè¯·æ±‚: 14,400  (12%)

ç¨³å®šæœŸ (4å‘¨+):
  ç¼“å­˜å‘½ä¸­ç‡: 92-95%         â­ ç›®æ ‡è¾¾æˆ
  å›æºè¯·æ±‚: 5-8%
  æºç«™è´Ÿè½½: é™ä½ 90%
```

### 6.4 Argo Smart Routing æ•ˆæœ

```
æ—  Argo:
  åŒ—äº¬ â†’ é¦™æ¸¯:  450ms
  ä¸Šæµ· â†’ é¦™æ¸¯:  380ms
  å¹¿å· â†’ é¦™æ¸¯:  120ms
  æˆéƒ½ â†’ é¦™æ¸¯:  520ms
  å¹³å‡ TTFB:    368ms

å¯ç”¨ Argo:
  åŒ—äº¬ â†’ é¦™æ¸¯:  280ms  (-38%)
  ä¸Šæµ· â†’ é¦™æ¸¯:  240ms  (-37%)
  å¹¿å· â†’ é¦™æ¸¯:  80ms   (-33%)
  æˆéƒ½ â†’ é¦™æ¸¯:  320ms  (-38%)
  å¹³å‡ TTFB:    230ms  (-38%) â­
```

---

## 7. æ•…éšœæ’æŸ¥

### 7.1 ç¼“å­˜é—®é¢˜

#### é—®é¢˜: ç¼“å­˜å§‹ç»ˆ MISS

**ç—‡çŠ¶**:
```bash
curl -I https://yourdomain.com/chapter01/0101.html
cf-cache-status: MISS  # æ¯æ¬¡éƒ½æ˜¯ MISS
```

**æ’æŸ¥æ­¥éª¤**:

1. **æ£€æŸ¥ Page Rules é…ç½®**:
   ```
   å¯¼èˆª: Rules â†’ Page Rules
   éªŒè¯:
   - URL pattern æ˜¯å¦æ­£ç¡®åŒ¹é…
   - Cache Level æ˜¯å¦è®¾ç½®ä¸º "Cache Everything"
   - è§„åˆ™æ˜¯å¦å·²æ¿€æ´» (Active)
   ```

2. **æ£€æŸ¥ Cache-Control å“åº”å¤´**:
   ```bash
   curl -I https://yourdomain.com/chapter01/0101.html | grep -i cache-control

   # å¦‚æœæºç«™è¿”å› "no-cache" æˆ– "private", Cloudflare ä¸ä¼šç¼“å­˜
   # è§£å†³: åœ¨ Page Rules ä¸­è®¾ç½® "Origin Cache Control: On"
   ```

3. **ç­‰å¾…è§„åˆ™ç”Ÿæ•ˆ**:
   - Page Rules æ›´æ–°éœ€è¦ 5-10 åˆ†é’Ÿç”Ÿæ•ˆ
   - æ¸…é™¤æ‰€æœ‰ç¼“å­˜: `Caching` â†’ `Purge Cache` â†’ `Purge Everything`

4. **æ£€æŸ¥ URL æŸ¥è¯¢å­—ç¬¦ä¸²**:
   ```
   https://yourdomain.com/page.html       â† ä¼šç¼“å­˜
   https://yourdomain.com/page.html?v=123 â† å¯èƒ½ä¸ç¼“å­˜

   è§£å†³: åœ¨ Page Rules ä¸­å¯ç”¨ "Cache Level: Ignore Query String"
   ```

#### é—®é¢˜: ç¼“å­˜å‘½ä¸­ç‡ä½äº 80%

**å¯èƒ½åŸå› **:

1. **åŠ¨æ€å†…å®¹è¿‡å¤š**:
   - æ£€æŸ¥å“ªäº› URL æœªè¢«ç¼“å­˜
   - ä¸ºé™æ€å†…å®¹æ·»åŠ æ˜ç¡®çš„ Page Rules

2. **æŸ¥è¯¢å­—ç¬¦ä¸²å˜åŒ–**:
   - URL å‚æ•°å¯¼è‡´å¤§é‡ç¼“å­˜å‰¯æœ¬
   - ä½¿ç”¨ "Ignore Query String" æˆ–å‚æ•°ç™½åå•

3. **Cookie å˜åŒ–**:
   - Cookie å¯¼è‡´ç¼“å­˜ç»•è¿‡
   - åœ¨ Page Rules ä¸­å¯ç”¨ "Cache Level: Ignore Cookies"

4. **é¢‘ç¹æ¸…é™¤ç¼“å­˜**:
   - æ£€æŸ¥æ˜¯å¦æœ‰è‡ªåŠ¨åŒ–è„šæœ¬é¢‘ç¹æ¸…é™¤ç¼“å­˜
   - ä¼˜åŒ–æ¸…é™¤ç­–ç•¥,ä½¿ç”¨ URL çº§åˆ«æ¸…é™¤è€Œä¸æ˜¯å…¨å±€æ¸…é™¤

### 7.2 æ€§èƒ½é—®é¢˜

#### é—®é¢˜: TTFB ä»ç„¶å¾ˆé«˜ (> 800ms)

**æ’æŸ¥æ¸…å•**:

1. **æºç«™æ€§èƒ½**:
   ```bash
   # ç›´æ¥æµ‹è¯• Vercel (ç»•è¿‡ Cloudflare)
   curl -o /dev/null -s -w "TTFB: %{time_starttransfer}s\n" \
     https://your-project.vercel.app/chapter01/0101.html

   # å¦‚æœ Vercel TTFB ä¹Ÿå¾ˆé«˜:
   # - æ£€æŸ¥ Vercel éƒ¨ç½²åœ°åŒº (åº”è¯¥æ˜¯ HKG1)
   # - æ£€æŸ¥æ˜¯å¦æœ‰æ…¢æŸ¥è¯¢æˆ–æ•°æ®åº“æ“ä½œ
   # - ç¡®è®¤ SSG æ˜¯å¦æ­£å¸¸å·¥ä½œ
   ```

2. **Cloudflare é…ç½®**:
   ```
   - âœ… HTTP/3 å·²å¯ç”¨
   - âœ… 0-RTT å·²å¯ç”¨
   - âœ… Brotli å·²å¯ç”¨
   - âœ… Page Rules æ­£ç¡®é…ç½®
   - âœ… ç¼“å­˜å‘½ä¸­ç‡ > 90%
   ```

3. **ç½‘ç»œè·¯ç”±**:
   ```bash
   # è·Ÿè¸ªè·¯ç”±
   traceroute yourdomain.com

   # å¦‚æœè·¯ç”±ç»•è¿œ:
   # - è€ƒè™‘å¯ç”¨ Argo Smart Routing
   # - æ£€æŸ¥ DNS è§£ææ˜¯å¦è¿”å›æœ€è¿‘çš„ Cloudflare èŠ‚ç‚¹
   ```

4. **å®¢æˆ·ç«¯ä½ç½®**:
   ```
   # ä¸åŒåœ°åŒºçš„ TTFB å·®å¼‚:
   å¹¿å· â†’ é¦™æ¸¯:  100-200ms  â† æ­£å¸¸
   åŒ—äº¬ â†’ é¦™æ¸¯:  300-500ms  â† æ­£å¸¸
   æ–°ç–† â†’ é¦™æ¸¯:  600-900ms  â† è·ç¦»è¿œ,æ­£å¸¸
   ```

#### é—®é¢˜: èµ„æºæœªå‹ç¼©

**ç—‡çŠ¶**:
```bash
curl -I https://yourdomain.com/chapter01/0101.html
# ç¼ºå°‘ content-encoding å“åº”å¤´
```

**è§£å†³æ–¹æ¡ˆ**:

1. **æ£€æŸ¥ Brotli è®¾ç½®**:
   ```
   Speed â†’ Optimization â†’ Brotli: âœ… å¯ç”¨
   ```

2. **æ£€æŸ¥è¯·æ±‚å¤´**:
   ```bash
   # ç¡®ä¿è¯·æ±‚åŒ…å« Accept-Encoding
   curl -H "Accept-Encoding: br, gzip, deflate" -I https://yourdomain.com/page.html
   ```

3. **æ£€æŸ¥æ–‡ä»¶ç±»å‹**:
   ```
   Cloudflare è‡ªåŠ¨å‹ç¼©:
   - âœ… HTML, CSS, JavaScript
   - âœ… JSON, XML, SVG
   - âŒ å›¾ç‰‡ (å·²å‹ç¼©æ ¼å¼: JPEG, PNG, WebP)
   - âŒ è§†é¢‘, éŸ³é¢‘
   ```

4. **æºç«™é¢„å‹ç¼©**:
   ```
   Next.js æ„å»ºæ—¶å·²å‹ç¼©çš„æ–‡ä»¶å¯èƒ½ä¸ä¼šå†æ¬¡å‹ç¼©
   æ£€æŸ¥ Next.js é…ç½®: next.config.ts
   ```

### 7.3 å®‰å…¨é—®é¢˜

#### é—®é¢˜: è¢« DDoS æ”»å‡»

**ç—‡çŠ¶**:
- çªå‘å¤§é‡è¯·æ±‚
- æºç«™ CPU/å†…å­˜ä½¿ç”¨ç‡é£™å‡
- æ­£å¸¸ç”¨æˆ·è®¿é—®å˜æ…¢

**åº”å¯¹æªæ–½**:

1. **å¯ç”¨ "Under Attack Mode"**:
   ```
   Security â†’ Settings â†’ Security Level
   é€‰æ‹©: I'm Under Attack!

   æ•ˆæœ:
   - æ˜¾ç¤º JavaScript æŒ‘æˆ˜é¡µé¢
   - éªŒè¯åå…è®¸è®¿é—® (5 ç§’å»¶è¿Ÿ)
   - è¿‡æ»¤æœºå™¨äººæµé‡
   ```

2. **æŸ¥çœ‹æ”»å‡»æ¥æº**:
   ```
   Security â†’ Events
   - æŸ¥çœ‹è¢«é˜»æ­¢çš„è¯·æ±‚
   - è¯†åˆ«æ”»å‡»æ¨¡å¼
   - åˆ›å»ºé˜²ç«å¢™è§„åˆ™
   ```

3. **åˆ›å»ºé˜²ç«å¢™è§„åˆ™**:
   ```
   Security â†’ WAF â†’ Firewall rules â†’ Create rule

   ç¤ºä¾‹è§„åˆ™:
   - é˜»æ­¢ç‰¹å®šå›½å®¶/åœ°åŒº
   - é™åˆ¶è¯·æ±‚é¢‘ç‡
   - é˜»æ­¢ç‰¹å®š User-Agent
   ```

4. **å¯ç”¨ Rate Limiting** (Pro å¥—é¤):
   ```
   Security â†’ WAF â†’ Rate limiting rules

   ç¤ºä¾‹:
   - å•ä¸ª IP: 100 è¯·æ±‚/åˆ†é’Ÿ
   - è¶…è¿‡é™åˆ¶: Challenge æˆ– Block
   ```

#### é—®é¢˜: SSL è¯ä¹¦é”™è¯¯

**ç—‡çŠ¶**:
```
è®¿é—®ç½‘ç«™æ˜¾ç¤º: "Your connection is not private" (ERR_CERT_AUTHORITY_INVALID)
```

**è§£å†³æ–¹æ¡ˆ**:

1. **æ£€æŸ¥ SSL æ¨¡å¼**:
   ```
   SSL/TLS â†’ Overview
   ç¡®ä¿ä½¿ç”¨: Full (strict)

   ä¸è¦ä½¿ç”¨: Flexible (ä¸å®‰å…¨)
   ```

2. **æ£€æŸ¥ Vercel SSL**:
   ```
   è®¿é—®: https://your-project.vercel.app
   ç¡®è®¤ Vercel çš„ SSL è¯ä¹¦æœ‰æ•ˆ
   ```

3. **æ¸…é™¤æµè§ˆå™¨ç¼“å­˜**:
   ```
   Chrome: chrome://settings/clearBrowserData
   é€‰æ‹©: Cached images and files
   ```

4. **æ£€æŸ¥ DNS CAA è®°å½•**:
   ```bash
   dig CAA yourdomain.com

   # ç¡®ä¿å…è®¸ Cloudflare é¢å‘è¯ä¹¦
   # åº”åŒ…å«: letsencrypt.org æˆ– digicert.com
   ```

---

## 8. æœ€ä½³å®è·µ

### 8.1 å†…å®¹ç­–ç•¥

#### é™æ€å†…å®¹ä¼˜å…ˆ

```yaml
âœ… åº”è¯¥ç¼“å­˜:
  - HTML æ–‡ç« é¡µé¢ (SSG ç”Ÿæˆ)
  - CSS æ ·å¼è¡¨
  - JavaScript è„šæœ¬
  - å›¾ç‰‡, å­—ä½“, å›¾æ ‡
  - JSON æ•°æ®æ–‡ä»¶

âŒ ä¸åº”è¯¥ç¼“å­˜:
  - ç”¨æˆ·ç™»å½•çŠ¶æ€
  - ä¸ªæ€§åŒ–å†…å®¹
  - å®æ—¶æ•°æ® (è‚¡ç¥¨, å¤©æ°”)
  - è¡¨å•æäº¤å“åº”
```

#### ç‰ˆæœ¬åŒ–é™æ€èµ„æº

```javascript
// å¥½çš„åšæ³•: æ–‡ä»¶ååŒ…å«å†…å®¹å“ˆå¸Œ
main-a1b2c3d4.js      â† å¯ä»¥æ°¸ä¹…ç¼“å­˜
styles-e5f6g7h8.css

// ä¸å¥½çš„åšæ³•: å›ºå®šæ–‡ä»¶å
main.js?v=1.2.3       â† æŸ¥è¯¢å‚æ•°å¯èƒ½è¢«å¿½ç•¥
styles.css
```

#### åˆç†çš„ç¼“å­˜æ—¶é•¿

```yaml
èµ„æºç±»å‹ â†’ ç¼“å­˜æ—¶é•¿:

  HTML é¡µé¢:
    Edge Cache: 1 å‘¨
    Browser Cache: 1 å¤©
    åŸå› : å†…å®¹å¯èƒ½æ›´æ–°,éœ€è¦å¹³è¡¡æ–°é²œåº¦

  ç‰ˆæœ¬åŒ–é™æ€èµ„æº (_next/static/*):
    Edge Cache: 1 å¹´
    Browser Cache: 1 å¹´
    åŸå› : æ–‡ä»¶åå˜åŒ–=å†…å®¹å˜åŒ–,å¯æ°¸ä¹…ç¼“å­˜

  API å“åº”:
    Edge Cache: 5 åˆ†é’Ÿ
    Browser Cache: ä¸ç¼“å­˜ (no-store)
    åŸå› : æ•°æ®å¯èƒ½é¢‘ç¹å˜åŒ–

  å›¾ç‰‡:
    Edge Cache: 1 ä¸ªæœˆ
    Browser Cache: 1 å‘¨
    åŸå› : å›¾ç‰‡è¾ƒå°‘å˜åŒ–,ä½†å¯èƒ½éœ€è¦æ›´æ–°
```

### 8.2 éƒ¨ç½²ç­–ç•¥

#### CI/CD é›†æˆ

```yaml
# .github/workflows/deploy.yml
name: Deploy to Production

on:
  push:
    branches: [main]

jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3

      - name: Deploy to Vercel
        run: vercel --prod --token=${{ secrets.VERCEL_TOKEN }}

      - name: Purge Cloudflare Cache
        run: |
          curl -X POST "https://api.cloudflare.com/client/v4/zones/${{ secrets.CF_ZONE_ID }}/purge_cache" \
            -H "Authorization: Bearer ${{ secrets.CF_API_TOKEN }}" \
            -H "Content-Type: application/json" \
            --data '{"purge_everything": true}'

      - name: Wait for CDN propagation
        run: sleep 30

      - name: Smoke Test
        run: |
          curl -f https://yourdomain.com || exit 1
```

#### ç°åº¦å‘å¸ƒ

```yaml
æ–¹æ¡ˆ 1: ä½¿ç”¨ Cloudflare Workers
  - 10% æµé‡ â†’ æ–°ç‰ˆæœ¬
  - 90% æµé‡ â†’ æ—§ç‰ˆæœ¬
  - ç›‘æ§é”™è¯¯ç‡
  - é€æ­¥å¢åŠ æ–°ç‰ˆæœ¬æµé‡

æ–¹æ¡ˆ 2: URL ç‰ˆæœ¬åŒ–
  - v1.yourdomain.com â†’ å½“å‰ç”Ÿäº§ç‰ˆæœ¬
  - v2.yourdomain.com â†’ æ–°ç‰ˆæœ¬æµ‹è¯•
  - æµ‹ï¿½ï¿½é€šè¿‡ååˆ‡æ¢ DNS
```

### 8.3 ç›‘æ§ä¸å‘Šè­¦

#### æ€§èƒ½ç›‘æ§

```yaml
ç›‘æ§æŒ‡æ ‡:
  - TTFB < 500ms
  - ç¼“å­˜å‘½ä¸­ç‡ > 90%
  - 5xx é”™è¯¯ç‡ < 0.1%
  - å¯ç”¨æ€§ > 99.9%

å‘Šè­¦é˜ˆå€¼:
  Critical (ç«‹å³å¤„ç†):
    - å¯ç”¨æ€§ < 99%
    - 5xx é”™è¯¯ç‡ > 1%

  Warning (å…³æ³¨):
    - TTFB > 800ms æŒç»­ 5 åˆ†é’Ÿ
    - ç¼“å­˜å‘½ä¸­ç‡ < 80%
    - å¸¦å®½ä½¿ç”¨é‡å¼‚å¸¸å¢é•¿
```

#### æ—¥å¿—åˆ†æ

```bash
# Cloudflare Logpush (Enterprise å¥—é¤)
# æˆ–ä½¿ç”¨ Workers æ”¶é›†æ—¥å¿—

åˆ†æç»´åº¦:
  - è¯·æ±‚æ¥æº (å›½å®¶, åŸå¸‚, ISP)
  - çƒ­é—¨å†…å®¹
  - ç¼“å­˜æ•ˆç‡
  - é”™è¯¯ç‡
  - æ€§èƒ½åˆ†å¸ƒ
```

### 8.4 æˆæœ¬ä¼˜åŒ–

#### Cloudflare å¥—é¤é€‰æ‹©

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    å¥—é¤     â”‚   ä»·æ ¼/æœˆ    â”‚          æ ¸å¿ƒåŠŸèƒ½           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Free        â”‚   $0         â”‚ åŸºç¡€ CDN, å…è´¹ SSL,          â”‚
â”‚             â”‚              â”‚ DDoS é˜²æŠ¤, 3 æ¡ Page Rules   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Pro         â”‚   $20        â”‚ + Brotli å‹ç¼©                â”‚
â”‚             â”‚              â”‚ + å›¾ç‰‡ä¼˜åŒ–, 20 æ¡ Page Rules â”‚
â”‚             â”‚              â”‚ + Tiered Cache              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Business    â”‚   $200       â”‚ + æ›´é«˜æ€§èƒ½, æ›´å¤šè§„åˆ™         â”‚
â”‚             â”‚              â”‚ + ä¼˜å…ˆæ”¯æŒ                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Enterprise  â”‚   å®šåˆ¶æŠ¥ä»·   â”‚ + 100% SLA, ä¸“å±æ”¯æŒ         â”‚
â”‚             â”‚              â”‚ + Logpush, é«˜çº§ WAF         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

æ¨è:
  å°å‹åšå®¢: Free (å·²è¶³å¤Ÿ)
  ä¸­å‹ç½‘ç«™: Pro (å¦‚éœ€ Brotli å’Œ Tiered Cache)
  å¤§å‹åº”ç”¨: Business/Enterprise
```

#### Argo Smart Routing ROI

```
åœºæ™¯ 1: ä½æµé‡åšå®¢ (10GB/æœˆ)
  æˆæœ¬: $5 + $1 = $6/æœˆ
  æ”¶ç›Š: æ€§èƒ½æå‡ 30-50%
  å»ºè®®: ä¸å¿…è¦ (Free å¥—é¤å·²è¶³å¤Ÿ)

åœºæ™¯ 2: ä¸­æµé‡ç½‘ç«™ (100GB/æœˆ)
  æˆæœ¬: $5 + $10 = $15/æœˆ
  æ”¶ç›Š: TTFB é™ä½ 200ms, ç”¨æˆ·ä½“éªŒæ˜¾è‘—æå‡
  å»ºè®®: å€¼å¾—æŠ•èµ„ (å¦‚é¢„ç®—å…è®¸)

åœºæ™¯ 3: é«˜æµé‡åº”ç”¨ (1TB/æœˆ)
  æˆæœ¬: $5 + $100 = $105/æœˆ
  æ”¶ç›Š: å‡å°‘æºç«™å‹åŠ›, é™ä½ Vercel è´¹ç”¨
  å»ºè®®: å¼ºçƒˆæ¨è (æ•´ä½“æˆæœ¬æ›´ä½)
```

#### å¸¦å®½èŠ‚çœ

```
ä¼˜åŒ–å‰:
  æœˆæµé‡: 500GB
  æœªç¼“å­˜å†…å®¹: 200GB (40%)
  Vercel å¸¦å®½è´¹: $20 (Pro å¥—é¤é¢å¤–è´¹ç”¨)

ä¼˜åŒ–å:
  æœˆæµé‡: 500GB
  ç¼“å­˜å‘½ä¸­: 460GB (92%)
  å›æºæµé‡: 40GB (8%)
  Vercel å¸¦å®½è´¹: $0 (åœ¨å…è´¹é¢åº¦å†…)

èŠ‚çœ: $20/æœˆ + æ›´å¥½çš„æ€§èƒ½
```

---

## 9. æˆæœ¬åˆ†æ

### 9.1 æ€»æˆæœ¬ä¼°ç®—

#### é…ç½®æ–¹æ¡ˆ A: å…è´¹å¥—é¤ (æ¨èå°å‹ç½‘ç«™)

```yaml
æˆæœ¬:
  Cloudflare: $0/æœˆ
  Vercel: $0/æœˆ (Hobby å¥—é¤)
  åŸŸå: $12/å¹´ â‰ˆ $1/æœˆ
  æ€»è®¡: $1/æœˆ

æµé‡é™åˆ¶:
  Cloudflare: æ— é™åˆ¶
  Vercel: 100GB/æœˆ (é€šå¸¸è¶³å¤Ÿ)

æ€§èƒ½:
  TTFB: 300-500ms (ï¿½ï¿½ï¿½å›½)
  ç¼“å­˜å‘½ä¸­ç‡: 85-90%
  å¯ç”¨æ€§: 99.9%

é€‚ç”¨åœºæ™¯:
  - ä¸ªäººåšå®¢
  - æœˆè®¿é—®é‡ < 10,000
  - å†…å®¹æ›´æ–°é¢‘ç‡ä½
```

#### é…ç½®æ–¹æ¡ˆ B: Pro + Argo (æ¨èä¸­å‹ç½‘ç«™)

```yaml
æˆæœ¬:
  Cloudflare Pro: $20/æœˆ
  Argo (100GB): $5 + $10 = $15/æœˆ
  Vercel Pro: $20/æœˆ
  åŸŸå: $1/æœˆ
  æ€»è®¡: $56/æœˆ

å¢å¼ºåŠŸèƒ½:
  + Brotli å‹ç¼©
  + Tiered Cache
  + æ™ºèƒ½è·¯ç”±
  + 20 æ¡ Page Rules
  + ä¼˜å…ˆæŠ€æœ¯æ”¯æŒ

æ€§èƒ½:
  TTFB: 200-350ms (ä¸­å›½)
  ç¼“å­˜å‘½ä¸­ç‡: 92-95%
  å¯ç”¨æ€§: 99.95%

é€‚ç”¨åœºæ™¯:
  - å•†ä¸šç½‘ç«™
  - æœˆè®¿é—®é‡ 10,000-100,000
  - å¯¹æ€§èƒ½æœ‰é«˜è¦æ±‚
```

### 9.2 æˆæœ¬ä¼˜åŒ–å»ºè®®

1. **ä» Free å¥—é¤å¼€å§‹**:
   - å¯¹å¤§å¤šæ•°ç½‘ç«™å·²è¶³å¤Ÿ
   - å…ˆä¼˜åŒ–ä»£ç å’Œç¼“å­˜ç­–ç•¥
   - æµé‡å¢é•¿åå†è€ƒè™‘å‡çº§

2. **æŒ‰éœ€å¯ç”¨ Argo**:
   - ä¸æ˜¯å¿…éœ€å“,ä½†æ•ˆæœæ˜¾è‘—
   - å¯ä»¥æŒ‰æœˆå¯ç”¨/å…³é—­
   - æ ¹æ®å®é™…æ€§èƒ½éœ€æ±‚å†³ç­–

3. **ç›‘æ§å¸¦å®½ä½¿ç”¨**:
   - å®šæœŸæ£€æŸ¥ Cloudflare Analytics
   - ä¼˜åŒ–å¤§æ–‡ä»¶èµ„æº (å›¾ç‰‡, è§†é¢‘)
   - å¯ç”¨ WebP å›¾ç‰‡æ ¼å¼

4. **åˆç†è®¾ç½®ç¼“å­˜æ—¶é•¿**:
   - æ›´é•¿çš„ç¼“å­˜æ—¶é—´ â†’ æ›´å°‘çš„å›æºè¯·æ±‚
   - ä½¿ç”¨ Purge Cache API ä¸»åŠ¨æ¸…é™¤
   - å¹³è¡¡æ–°é²œåº¦å’Œæ€§èƒ½

---

## 10. æ€»ç»“

### 10.1 é…ç½®æ¸…å•

ä½¿ç”¨æ­¤æ¸…å•ç¡®ä¿æ‰€æœ‰ä¼˜åŒ–éƒ½å·²å®Œæˆ:

**åŸºç¡€é…ç½®**:
- [ ] DNS è®°å½•è®¾ç½®ä¸º Proxied (æ©™è‰²äº‘æœµ)
- [ ] SSL/TLS æ¨¡å¼: Full (strict)
- [ ] Always Use HTTPS: å¯ç”¨

**æ€§èƒ½ä¼˜åŒ–**:
- [ ] Auto Minify: JavaScript, CSS, HTML å…¨éƒ¨å¯ç”¨
- [ ] Brotli å‹ç¼©: å¯ç”¨
- [ ] Early Hints: å¯ç”¨
- [ ] HTTP/3 (QUIC): å¯ç”¨
- [ ] 0-RTT Connection Resumption: å¯ç”¨
- [ ] WebSockets: å¯ç”¨

**ç¼“å­˜ç­–ç•¥**:
- [ ] Page Rule 1: HTML æ–‡ä»¶ç¼“å­˜ (1 month)
- [ ] Page Rule 2: é™æ€èµ„æºç¼“å­˜ (1 year)
- [ ] Page Rule 3: æ–‡ç« é¡µé¢ç¼“å­˜ (1 week)
- [ ] Caching Level: Standard
- [ ] Always Online: å¯ç”¨

**å®‰å…¨è®¾ç½®**:
- [ ] Security Level: Medium
- [ ] Bot Fight Mode: å¯ç”¨
- [ ] DDoS é˜²æŠ¤: è‡ªåŠ¨å¯ç”¨

**å¯é€‰ä¼˜åŒ–**:
- [ ] Argo Smart Routing: æ ¹æ®é¢„ç®—å†³å®š
- [ ] Tiered Cache: Pro å¥—é¤å¯ç”¨
- [ ] Rate Limiting: Pro å¥—é¤å¯ç”¨

### 10.2 é¢„æœŸæ•ˆæœ

```
ä¼˜åŒ–åæ€§èƒ½æå‡ (ä¸­å›½ç”¨æˆ·):

TTFB:          -60% (800ms â†’ 300ms)
é¦–å±åŠ è½½:      -60% (3.5s â†’ 1.5s)
èµ„æºä¼ è¾“:      -70% (Brotli å‹ç¼©)
ç¼“å­˜å‘½ä¸­ç‡:    90%+ (é™ä½æºç«™è´Ÿè½½)
```

### 10.3 ç»´ï¿½ï¿½å»ºè®®

**æ¯å‘¨**:
- æ£€æŸ¥ Cloudflare Analytics
- ç›‘æ§ç¼“å­˜å‘½ä¸­ç‡
- æŸ¥çœ‹é”™è¯¯æ—¥å¿—

**æ¯æœˆ**:
- è¿è¡Œæ€§èƒ½æµ‹è¯• (17ce.com, WebPageTest)
- å®¡æŸ¥å¸¦å®½ä½¿ç”¨å’Œæˆæœ¬
- è¯„ä¼°æ˜¯å¦éœ€è¦è°ƒæ•´é…ç½®

**æ¯å­£åº¦**:
- å®¡æŸ¥ Page Rules æœ‰æ•ˆæ€§
- è¯„ä¼°æ˜¯å¦éœ€è¦å‡çº§å¥—é¤
- æ›´æ–°æ–‡æ¡£å’Œé…ç½®å¤‡ä»½

---

## 11. å‚è€ƒèµ„æº

### å®˜æ–¹æ–‡æ¡£
- [Cloudflare Docs](https://developers.cloudflare.com/)
- [Cloudflare Page Rules](https://support.cloudflare.com/hc/en-us/articles/218411427)
- [HTTP/3 & QUIC](https://blog.cloudflare.com/http3-the-past-present-and-future/)
- [Argo Smart Routing](https://www.cloudflare.com/products/argo-smart-routing/)

### æµ‹è¯•å·¥å…·
- [17CE ç½‘ç«™æµ‹é€Ÿ](https://www.17ce.com/)
- [WebPageTest](https://www.webpagetest.org/)
- [GTmetrix](https://gtmetrix.com/)
- [Cloudflare Speed Test](https://speed.cloudflare.com/)

### ç¤¾åŒºèµ„æº
- [Cloudflare Community](https://community.cloudflare.com/)
- [V2EX è®¨è®ºåŒº](https://www.v2ex.com/go/cdn)
- [HostLoc è®ºå›](https://www.hostloc.com/)

---

## 12. æ›´æ–°æ—¥å¿—

| ç‰ˆæœ¬ | æ—¥æœŸ | æ›´æ–°å†…å®¹ |
|------|------|---------|
| v1.0 | 2025-12-14 | åˆå§‹ç‰ˆæœ¬å‘å¸ƒ |
| | | - å®Œæ•´çš„ Cloudflare é…ç½®æŒ‡å— |
| | | - æ€§èƒ½ä¼˜åŒ–æœ€ä½³å®è·µ |
| | | - ä¸­å›½è®¿é—®åœºæ™¯ä¼˜åŒ– |
| | | - æ•…éšœæ’æŸ¥å’Œç›‘æ§æ–¹æ¡ˆ |

---

## é™„å½•

### A. Cloudflare API å¿«é€Ÿå‚è€ƒ

#### æ¸…é™¤ç¼“å­˜
```bash
# æ¸…é™¤æ‰€æœ‰ç¼“å­˜
curl -X POST "https://api.cloudflare.com/client/v4/zones/{zone_id}/purge_cache" \
  -H "Authorization: Bearer {api_token}" \
  -H "Content-Type: application/json" \
  --data '{"purge_everything": true}'

# æ¸…é™¤ç‰¹å®š URL
curl -X POST "https://api.cloudflare.com/client/v4/zones/{zone_id}/purge_cache" \
  -H "Authorization: Bearer {api_token}" \
  -H "Content-Type: application/json" \
  --data '{"files": ["https://yourdomain.com/page.html"]}'
```

#### è·å–åˆ†ææ•°æ®
```bash
curl -X GET "https://api.cloudflare.com/client/v4/zones/{zone_id}/analytics/dashboard?since=-10080&until=-0" \
  -H "Authorization: Bearer {api_token}" \
  -H "Content-Type: application/json"
```

### B. æœ¯è¯­è¡¨

| æœ¯è¯­ | è¯´æ˜ |
|------|------|
| **TTFB** | Time To First Byte, é¦–å­—èŠ‚æ—¶é—´ |
| **FCP** | First Contentful Paint, é¦–æ¬¡å†…å®¹ç»˜åˆ¶ |
| **LCP** | Largest Contentful Paint, æœ€å¤§å†…å®¹ç»˜åˆ¶ |
| **CDN** | Content Delivery Network, å†…å®¹åˆ†å‘ç½‘ç»œ |
| **Edge Cache** | è¾¹ç¼˜ç¼“å­˜, CDN èŠ‚ç‚¹ä¸Šçš„ç¼“å­˜ |
| **Origin** | æºç«™, åŸå§‹æœåŠ¡å™¨ |
| **SSL/TLS** | å®‰å…¨å¥—æ¥å­—å±‚/ä¼ è¾“å±‚å®‰å…¨ |
| **Brotli** | Google å¼€å‘çš„å‹ç¼©ç®—æ³• |
| **QUIC** | å¿«é€Ÿ UDP äº’è”ç½‘è¿æ¥åè®® |
| **0-RTT** | é›¶å¾€è¿”æ—¶é—´, è¿æ¥æ¢å¤æŠ€æœ¯ |
| **GFW** | Great Firewall, ä¸­å›½é˜²ç«é•¿åŸ |

---

<div align="center">

**æ–‡æ¡£ç»´æŠ¤è€…**: [Your Name]
**æœ€åæ›´æ–°**: 2025-12-14
**License**: MIT

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®, è¯·åœ¨é¡¹ç›®ä»“åº“æäº¤ Issue

[â¬† è¿”å›é¡¶éƒ¨](#cloudflare-cdn-ä¸­å›½è®¿é—®åŠ é€Ÿæ–¹æ¡ˆ)

</div>
