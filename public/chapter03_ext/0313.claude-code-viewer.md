# Claude Code Viewer - Web可视化客户端

> d-kimuson开发的Web可视化客户端，将Claude Code的终端日志转换为可视化界面，支持会话管理、Git差异查看、文件预览等功能

## 目录导航

1. [什么是 Claude Code Viewer？](#1-什么是-claude-code-viewer)
2. [核心功能特性](#2-核心功能特性)
3. [系统架构](#3-系统架构)
4. [安装指南](#4-安装指南)
5. [使用方法](#5-使用方法)
6. **高级功能](#6-高级功能)
7. [故障排除](#7-故障排除)

## 1. 什么是 Claude Code Viewer？

Claude Code Viewer 是由 GitHub 开发者 d-kimuson 创建的开源 Web 客户端工具，专门为 Claude Code 项目设计。它将传统的命令行交互体验转换为现代化的 Web 界面，让开发者能够更直观地管理和查看 Claude Code 的会话记录、文件变更和项目状态。

### 核心价值

- **可视化体验**：将终端日志转换为直观的 Web 界面
- **会话管理**：完整管理和查看所有 Claude Code 会话
- **Git 集成**：内置 Git 差异查看和版本控制
- **文件预览**：在 Web 界面中直接预览文件内容
- **远程交互**：支持远程访问和交互功能
- **效率提升**：显著提高程序员的工作效率

### 设计理念

Claude Code Viewer 遵循以用户体验为中心的设计原则：
- **直观易用**：简单直观的用户界面
- **功能完整**：覆盖 Claude Code 的核心功能
- **性能优化**：高效的会话数据处理和展示
- **可扩展性**：支持多项目和扩展功能

## 2. 核心功能特性

### 📊 会话日志可视化
- **终端日志转换**：将命令行日志转换为 Web 可视化格式
- **对话历史**：完整展示与 Claude 的对话历史
- **时间线视图**：按时间线展示会话进程
- **高亮显示**：重要信息和代码的高亮显示
- **搜索功能**：在会话记录中进行全文搜索

### 🗂️ 会话管理
- **会话列表**：显示所有 Claude Code 会话
- **会话恢复**：恢复和继续之前的会话
- **会话导出**：将会话导出为多种格式
- **会话标签**：为会话添加标签和分类
- **会话分析**：分析会话内容和统计信息

### 🔍 Git 集成
- **差异查看**：内置 Git diff 可视化工具
- **提交历史**：查看 Git 提交历史和变更
- **分支管理**：管理 Git 分支和合并
- **代码审查**：在 Web 界面中进行代码审查
- **冲突解决**：可视化解决合并冲突

### 📄 文件预览
- **代码预览**：在浏览器中预览代码文件
- **语法高亮**：支持多种编程语言的语法高亮
- **文件管理**：在 Web 界面中管理项目文件
- **快速导航**：快速导航到特定文件或目录
- **文件比较**：比较不同版本的文件内容

### ⏰ 定时任务
- **自动化任务**：支持定时执行 Claude Code 任务
- **任务调度**：可视化的任务调度界面
- **任务监控**：监控任务执行状态和结果
- **日志记录**：记录任务执行日志
- **通知提醒**：任务完成时的通知提醒

### 🌐 远程交互
- **远程访问**：支持远程访问 Claude Code 项目
- **实时同步**：实时同步本地和远程的会话状态
- **安全认证**：安全的远程访问认证机制
- **多用户支持**：支持多用户同时访问
- **权限管理**：细粒度的权限管理功能

## 3. 系统架构

### 技术架构
```
Claude Code Viewer
    ├── Web Frontend
    │   ├── Session Viewer
    │   ├── Git Interface
    │   ├── File Explorer
    │   └── Task Scheduler
    ├── Backend Service
    │   ├── Session Parser
    │   ├── Git Integration
    │   ├── File Manager
    │   └── API Server
    └── Claude Code Integration
        ├── Session Monitor
        ├── Log Parser
        ├── Command Executor
        └── State Manager
```

### 核心组件

#### Web Frontend（Web前端）
- **React/Vue 组件**：现代化的前端框架
- **响应式设计**：适配不同设备和屏幕尺寸
- **实时更新**：WebSocket 实现实时数据更新
- **用户界面**：直观的用户交互界面

#### Backend Service（后端服务）
- **API 服务**：RESTful API 接口
- **数据解析**：解析 Claude Code 会话数据
- **文件处理**：处理和管理项目文件
- **Git 集成**：与 Git 仓库的集成

#### Claude Code Integration（Claude Code集成）
- **会话监控**：监控 Claude Code 会话状态
- **日志解析**：解析和格式化会话日志
- **命令执行**：执行 Claude Code 命令
- **状态管理**：管理会话和项目状态

## 4. 安装指南

### 4.1 系统要求

#### 最低要求
- **操作系统**：Linux (Ubuntu 18.04+), macOS 10.15+, Windows 10+
- **Node.js**：16.0.0+ 或 Python 3.8+
- **Claude Code**：最新版本
- **Git**：2.25+
- **内存**：4GB RAM
- **存储空间**：2GB 可用空间

#### 推荐配置
- **操作系统**：Linux (Ubuntu 20.04+), macOS 12+, Windows 11+
- **Node.js**：18.0.0+ 或 Python 3.9+
- **Claude Code**：最新版本
- **Git**：2.30+
- **内存**：8GB RAM 或更多
- **存储空间**：5GB 可用空间

### 4.2 安装方式

#### 方式1：Git 克隆安装
```bash
# 克隆仓库
git clone https://github.com/d-kimuson/claude-code-viewer.git
cd claude-code-viewer

# 安装依赖
npm install  # 或 pip install -r requirements.txt

# 配置环境变量
cp .env.example .env
# 编辑 .env 文件

# 启动服务
npm start  # 或 python app.py

# 访问应用
# 浏览器打开: http://localhost:3000
```

#### 方式2：Docker 部署
```bash
# 拉取镜像
docker pull d-kimuson/claude-code-viewer

# 运行容器
docker run -d \
  --name claude-viewer \
  -p 3000:3000 \
  -v /path/to/claude-projects:/app/projects \
  d-kimuson/claude-code-viewer

# 访问应用
# 浏览器打开: http://localhost:3000
```

#### 方式3：一键部署脚本
```bash
# 下载部署脚本
curl -fsSL https://raw.githubusercontent.com/d-kimuson/claude-code-viewer/main/deploy.sh | bash

# 或手动下载执行
wget https://raw.githubusercontent.com/d-kimuson/claude-code-viewer/main/deploy.sh
chmod +x deploy.sh
./deploy.sh
```

### 4.3 配置说明

#### 环境变量配置
```bash
# .env 文件
PORT=3000
NODE_ENV=production

# Claude Code 配置
CLAUDE_CODE_PATH=/path/to/claude-code
CLAUDE_PROJECTS_DIR=/path/to/projects

# Git 配置
GIT_ENABLED=true
GIT_AUTO_PULL=false

# 数据库配置（可选）
DATABASE_URL=sqlite:///app/data/viewer.db

# 安全配置
JWT_SECRET=your-jwt-secret
ENABLE_AUTH=false

# 日志配置
LOG_LEVEL=info
LOG_FILE=./logs/app.log
```

#### 配置文件
```json
{
  "app": {
    "name": "Claude Code Viewer",
    "version": "1.0.0",
    "port": 3000,
    "host": "0.0.0.0"
  },
  "claudeCode": {
    "projectsDir": "./projects",
    "logDir": "./logs",
    "autoRefresh": true,
    "refreshInterval": 5000
  },
  "git": {
    "enabled": true,
    "autoPull": false,
    "diffViewer": "builtin"
  },
  "ui": {
    "theme": "auto",
    "language": "zh-CN",
    "itemsPerPage": 20
  },
  "security": {
    "enableAuth": false,
    "sessionTimeout": 3600
  }
}
```

## 5. 使用方法

### 5.1 首次使用

#### 访问 Web 界面
```bash
# 启动服务后
打开浏览器访问: http://localhost:3000

# 首次访问会显示欢迎页面
点击 "开始使用" 进入主界面
```

#### 配置项目路径
```bash
# 在Web界面中
1. 点击 "设置" 菜单
2. 配置 Claude Code 项目目录
3. 点击 "保存" 应用配置
```

#### 导入现有项目
```bash
# 导入 Claude Code 项目
1. 点击 "导入项目" 按钮
2. 选择项目目录
3. 等待项目导入完成
4. 在项目列表中查看导入的项目
```

### 5.2 会话管理

#### 查看会话列表
```bash
# 在Web界面中
1. 导航到 "会话" 页面
2. 查看所有可用会话
3. 可以按时间、项目、标签筛选会话
```

#### 查看会话详情
```bash
# 点击具体会话
1. 在会话列表中点击要查看的会话
2. 查看完整的对话历史
3. 使用搜索功能查找特定内容
4. 查看相关的文件和操作
```

#### 恢复会话
```bash
# 恢复之前的会话
1. 在会话详情页面点击 "恢复会话"
2. 系统会自动在 Claude Code 中恢复该会话
3. 可以继续之前的对话
```

### 5.3 Git 集成

#### 查看代码差异
```bash
# 在Web界面中查看Git diff
1. 导航到 "Git" 页面
2. 查看当前的变更状态
3. 点击具体的文件查看差异
4. 使用内置的 diff 查看器
```

#### 提交代码
```bash
# 在Web界面中提交代码
1. 选择要提交的文件
2. 编写提交信息
3. 点击 "提交" 按钮
4. 查看提交结果
```

#### 分支管理
```bash
# 管理Git分支
1. 在 "Git" 页面查看当前分支
2. 创建新分支
3. 切换分支
4. 合并分支
```

### 5.4 文件管理

#### 浏览文件
```bash
# 在Web界面中浏览项目文件
1. 导航到 "文件" 页面
2. 查看项目文件结构
3. 点击文件查看内容
4. 使用语法高亮显示代码
```

#### 编辑文件
```bash
# 在Web界面中编辑文件
1. 点击文件进入编辑模式
2. 进行必要的修改
3. 保存更改
4. 查看修改历史
```

#### 文件比较
```bash
# 比较不同版本的文件
1. 选择要比较的文件
2. 选择比较的版本
3. 查看差异对比
4. 导出比较结果
```

## 6. 高级功能

### 6.1 定时任务

#### 创建定时任务
```javascript
// 在Web界面中创建任务
const task = {
  name: "代码质量检查",
  command: "claude code review",
  schedule: "0 9 * * 1-5", // 工作日上午9点
  enabled: true,
  notifications: true
};
```

#### 任务监控
```bash
# 监控任务执行状态
1. 导航到 "任务" 页面
2. 查看任务列表
3. 查看任务执行历史
4. 查看任务执行日志
```

### 6.2 远程访问

#### 配置远程访问
```bash
# 启用远程访问
1. 在设置中启用 "远程访问"
2. 配置访问密钥
3. 设置端口转发
4. 测试远程连接
```

#### 远程使用
```bash
# 从远程位置访问
1. 在浏览器中访问远程地址
2. 输入访问密钥
3. 使用本地相同的功能
4. 实时同步会话状态
```

### 6.3 数据分析

#### 会话分析
```bash
# 分析会话数据
1. 导航到 "分析" 页面
2. 查看会话统计信息
3. 分析使用模式
4. 生成分析报告
```

#### 性能监控
```bash
# 监控系统性能
1. 查看系统资源使用情况
2. 监控响应时间
3. 查看错误日志
4. 优化系统性能
```

## 7. 故障排除

### 常见问题

#### 1. 无法启动服务
```bash
# 检查端口占用
lsof -i :3000

# 检查依赖安装
npm list  # 或 pip list

# 查看错误日志
tail -f logs/error.log
```

#### 2. 无法连接 Claude Code
```bash
# 检查 Claude Code 安装
claude --version

# 检查项目路径配置
cat .env | grep CLAUDE_CODE_PATH

# 测试连接
curl http://localhost:3000/api/health
```

#### 3. Git 集成失败
```bash
# 检查 Git 版本
git --version

# 检查仓库状态
git status

# 配置 Git 用户信息
git config --global user.name "Your Name"
git config --global user.email "your.email@example.com"
```

#### 4. 文件预览异常
```bash
# 检查文件权限
ls -la /path/to/project

# 检查文件编码
file -bi filename

# 清理缓存
rm -rf ./cache/*
```

### 调试模式

#### 启用调试日志
```bash
# 设置调试环境变量
export DEBUG=true
export LOG_LEVEL=debug

# 启动调试模式
npm run debug  # 或 python debug.py
```

#### 查看详细日志
```bash
# 查看应用日志
tail -f logs/app.log

# 查看错误日志
tail -f logs/error.log

# 查看访问日志
tail -f logs/access.log
```

### 性能优化

#### 数据库优化
```bash
# 清理过期数据
npm run cleanup  # 或 python cleanup.py

# 重建索引
npm run reindex  # 或 python reindex.py

# 优化数据库
npm run optimize  # 或 python optimize.py
```

#### 缓存优化
```bash
# 清理缓存
rm -rf ./cache/*

# 重建缓存
npm run build-cache  # 或 python build_cache.py

# 配置缓存大小
# 在配置文件中设置缓存大小限制
```

## 更新日志

### v1.5.0 (最新)
- 🎉 新增定时任务功能
- ✨ 改进 Git 集成界面
- 🔧 优化性能和稳定性
- 🐛 修复文件预览问题

### v1.4.0
- 🚀 新增远程访问功能
- ✨ 支持多项目管理
- 🎨 改进用户界面
- 📊 增加数据分析功能

### v1.3.0
- 💾 新增会话导出功能
- 🔍 改进搜索功能
- ⚡ 优化加载速度
- 📚 完善文档

### v1.2.0
- 🔄 重构后端架构
- ✨ 新增文件预览
- 🎨 改进用户界面
- 🔧 增强配置选项

### v1.1.0
- 🎉 首个公开发布
- ⚡ 基础会话查看
- 🔧 Git 集成
- 📋 基础配置

## 贡献指南

欢迎为 Claude Code Viewer 项目贡献代码！

### 开发环境
```bash
# 克隆仓库
git clone https://github.com/d-kimuson/claude-code-viewer.git
cd claude-code-viewer

# 安装开发依赖
npm install  # 或 pip install -r requirements-dev.txt

# 启动开发模式
npm run dev  # 或 python dev.py

# 运行测试
npm test  # 或 python -m pytest
```

### 代码贡献
1. Fork 项目
2. 创建功能分支
3. 编写测试
4. 提交 Pull Request

### 问题报告
- 使用 GitHub Issues 报告问题
- 提供详细的重现步骤
- 包含系统环境信息
- 附上相关的错误日志

## 许可证

本项目采用 MIT 许可证。详情请参阅 [LICENSE](https://github.com/d-kimuson/claude-code-viewer/blob/main/LICENSE) 文件。

## 相关资源

- [GitHub 仓库](https://github.com/d-kimuson/claude-code-viewer)
- [作者主页](https://github.com/d-kimuson)
- [Claude Code 官方文档](https://docs.anthropic.com/claude/docs/claude-code)
- [用户社区](https://github.com/d-kimuson/claude-code-viewer/discussions)
- [技术文章](https://developer.aliyun.com/article/1687384)

## 致谢

感谢以下项目和社区的支持：
- [Claude Code](https://github.com/anthropics/claude-code) - 核心平台
- [Git](https://git-scm.com/) - 版本控制系统
- [React](https://reactjs.org/) - 前端框架
- [Node.js](https://nodejs.org/) - 运行时环境
- 开源社区的贡献者们

---

> 💡 **提示**: Claude Code Viewer 是一个活跃开发的开源项目，已获得广泛关注（被誉为能让程序员效率提升90%的工具），如果你觉得有用，请考虑给项目一个 Star，或者参与贡献代码！让 Claude Code 的使用体验更加便捷高效！